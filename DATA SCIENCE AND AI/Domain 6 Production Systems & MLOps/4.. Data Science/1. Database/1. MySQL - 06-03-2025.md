https://youtu.be/TslBGnENTFw?feature=shared
![[Pasted image 20250306153849.png]]

## 1. C√†i ƒë·∫∑t MySQL Database

```
Ch√†o c√°c b·∫°n¬†**AIO2025**, chu·∫©n b·ªã cho¬†**Tu·∫ßn 7**¬†‚Äì n∆°i ch√∫ng ta s·∫Ω b·∫Øt ƒë·∫ßu h·ªçc v·ªÅ¬†**C∆° s·ªü d·ªØ li·ªáu**, c√°c b·∫°n c·∫ßn c√†i ƒë·∫∑t¬†**MySQL Server**¬†v√† c√¥ng c·ª• h·ªó tr·ª£ ƒë·ªÉ l√†m vi·ªác v·ªõi MySQL.

¬†![üîπ](https://static.xx.fbcdn.net/images/emoji.php/v9/tf3/1/16/1f539.png)¬†**B∆∞·ªõc 1: C√†i ƒë·∫∑t MySQL Server: https://dev.mysql.com/downloads/installer/**  
MySQL l√† h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu ph·ªï bi·∫øn v√† m·∫°nh m·∫Ω. C√°c b·∫°n c√≥ th·ªÉ t·∫£i v√† c√†i ƒë·∫∑t theo h∆∞·ªõng d·∫´n trong video b√™n d∆∞·ªõi.

¬†![üîπ](https://static.xx.fbcdn.net/images/emoji.php/v9/tf3/1/16/1f539.png)¬†**B∆∞·ªõc 2: C√†i ƒë·∫∑t c√¥ng c·ª• t∆∞∆°ng t√°c v·ªõi MySQL**  
ƒê·ªÉ l√†m vi·ªác v·ªõi c∆° s·ªü d·ªØ li·ªáu MySQL, ch√∫ng ta c√≥ th·ªÉ d√πng¬†**MySQL Workbench**¬†ho·∫∑c¬†**DBeaver**. Tuy nhi√™n,¬†**khuy·∫øn kh√≠ch c√°c b·∫°n s·ª≠ d·ª•ng DBeaver**¬†v√¨ n√≥ h·ªó tr·ª£ l√†m vi·ªác v·ªõi nhi·ªÅu lo·∫°i c∆° s·ªü d·ªØ li·ªáu kh√°c nhau trong c√πng m·ªôt giao di·ªán.

¬†![üìå](https://static.xx.fbcdn.net/images/emoji.php/v9/tac/1/16/1f4cc.png)¬†**C√†i ƒë·∫∑t DBeaver**: https://dbeaver.io/  
![üìå](https://static.xx.fbcdn.net/images/emoji.php/v9/tac/1/16/1f4cc.png)¬†**C√†i ƒë·∫∑t MySQL Workbench (t√πy ch·ªçn)**: https://dev.mysql.com/downloads/workbench/

¬†![üîπ](https://static.xx.fbcdn.net/images/emoji.php/v9/tf3/1/16/1f539.png)¬†**B∆∞·ªõc 3: Thi·∫øt l·∫≠p k·∫øt n·ªëi v·ªõi MySQL**  
Sau khi c√†i ƒë·∫∑t xong, h√£y xem h∆∞·ªõng d·∫´n k·∫øt n·ªëi DBeaver v·ªõi MySQL ƒë·ªÉ s·∫µn s√†ng cho bu·ªïi h·ªçc.

¬†![üìå](https://static.xx.fbcdn.net/images/emoji.php/v9/tac/1/16/1f4cc.png)¬†**L∆∞u √Ω**: H√£y d√†nh th·ªùi gian c√†i ƒë·∫∑t v√† th·ª≠ nghi·ªám tr∆∞·ªõc, n·∫øu g·∫∑p v·∫•n ƒë·ªÅ h√£y comment b√™n d∆∞·ªõi ho·∫∑c h·ªèi trong nh√≥m!¬†![üí¨](https://static.xx.fbcdn.net/images/emoji.php/v9/t6e/1/16/1f4ac.png)¬†

¬†![üî•](https://static.xx.fbcdn.net/images/emoji.php/v9/t50/1/16/1f525.png)¬†**Tu·∫ßn 7 ch√∫ng ta s·∫Ω dive deep v√†o MySQL, chu·∫©n b·ªã th·∫≠t t·ªët nh√©!**¬†![üî•](https://static.xx.fbcdn.net/images/emoji.php/v9/t50/1/16/1f525.png)
```

- DBeaver Community is a free cross-platform database tool for developers, database administrators, analysts, and everyone working with data. It supports all popular SQL databases like MySQL, MariaDB, PostgreSQL, SQLite, Apache Family, and more.
- V·ªã tr√≠ l∆∞u tr·ªØ: c√†i n∆°i m√¨nh mu·ªën l∆∞u. D\MySQL\data
```bash (Admin)
cd C:\Program Files\MySQL\MySQL Server 8.0\bin
mysql -u root -p

mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sakila             |
| sys                |
| world              |
+--------------------+
6 rows in set (0.00 sec)

mysql> use world
Database changed
mysql> show tables;
+-----------------+
| Tables_in_world |
+-----------------+
| city            |
| country         |
| countrylanguage |
+-----------------+
3 rows in set (0.00 sec)

mysql> select count(*) from city;
+----------+
| count(*) |
+----------+
|     4079 |
+----------+
1 row in set (0.00 sec)

mysql>
```
# 2. MySQL Architecture
![[Pasted image 20250306174231.png]]

0:11:00 - 0:20:00 MySQL Architecture
B·ªò NH·ªö - Memory (·ªü d∆∞·ªõi c√≥ 1 b·ªô nh·ªõ v·∫≠t l√Ω). 
1. buff pool, buff cache: Cache c√°c d·ªØ li·ªáu th∆∞·ªùng xuy√™n ƒë∆∞·ª£c s·ª≠ d·ª•ng, k·ªÉ c·∫£ Table, Index. 
2. DML : Redo Log (CRUD) : Ghi l·∫°i c√°c thay ƒë·ªïi d·ªØ li·ªáu khi h·ªá th·ªëng th·ª±c hi·ªán c√¢u l·ªánh DML 

DISK:  
- Tablespace (UI l√† file v·∫≠t l√Ω) (t·ªï h·ª£p nh·ªØng file c√≥ c√πng lo·∫°i t√≠nh ch·∫•t). 
+, Undo Tablespace (rolln back): ƒêang 11, quay v·ªÅ 10
Redo log: H·ªìi x∆∞a l√† 10 l√†m sao n√≥ th√†nh 11 ( v√≠ d·ª• v√¨ h·ªç d√πng update). 
+, Tablespace System (ibdata1, ...)  
+, temp Tablespace (c√≥ table d·∫°ng temp d·∫°ng ƒë·∫∑c bi·ªát, nhi·ªÅu b·∫°n t·∫°o ri√™ng bang temp l√† ko ·ªïn). 
+, User Create 1 - Tablespace: ...
+, User Create 2 = ... 
+, Redo Log Tablespace 

---
```bash
0:21:00 
1. Th∆∞ m·ª•c sau khi c√†i ƒë·∫∑t: sys directory, performance_schema directory, mysql directory. 
2. T·∫°o tables m·ªõi: 
bash
mysql> create table test (id int, name varchar(10));
Query OK, 0 rows affected (0.02 sec)

mysql> drop table test;
Query OK, 0 rows affected (0.02 sec)

3. #innidb_redo , #innodb_temp, ibdata1: tablespace system. 
4. 0:30:00 Quy ho·∫°ch Tablespace

```

## 2.1 Ph√¢n bi·ªát: Undo Tablespace v√† Log Buffer -> save into Redo Log **S·ª≠ d·ª•ng trong Ph·ª•c h·ªìi D·ªØ li·ªáu**

![[Pasted image 20250306182356.png]]

- **Undo Tablespace**: ƒê∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ho√†n t√°c c√°c giao d·ªãch ch∆∞a ƒë∆∞·ª£c x√°c nh·∫≠n v√† h·ªó tr·ª£ c√°c t√≠nh nƒÉng nh∆∞ Flashback Query, gi√∫p truy v·∫•n d·ªØ li·ªáu t·∫°i m·ªôt th·ªùi ƒëi·ªÉm tr∆∞·ªõc ƒë√≥.‚Äã[datalinks.vn](https://datalinks.vn/quan-tri-undo-tablespace-trong-oracle-database/)
    
- **Redo Log**: ƒê∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ kh√¥i ph·ª•c c∆° s·ªü d·ªØ li·ªáu sau c√°c s·ª± c·ªë nh∆∞ m·∫•t ƒëi·ªán ho·∫∑c l·ªói h·ªá th·ªëng. B·∫±ng c√°ch √°p d·ª•ng l·∫°i c√°c thay ƒë·ªïi ƒë∆∞·ª£c ghi trong Redo Log, Oracle c√≥ th·ªÉ ƒë∆∞a c∆° s·ªü d·ªØ li·ªáu v·ªÅ tr·∫°ng th√°i nh·∫•t qu√°n cu·ªëi c√πng tr∆∞·ªõc khi x·∫£y ra s·ª± c·ªë.‚Äã[thangnotes.dev](https://thangnotes.dev/2023/05/23/8-undo-va-redo-trong-oracle/)
    

**V√≠ d·ª• Minh h·ªça**

Gi·∫£ s·ª≠ c√≥ m·ªôt b·∫£ng `NHANVIEN` v·ªõi c·ªôt `LUONG`. M·ªôt giao d·ªãch th·ª±c hi·ªán nh∆∞ sau:

1. **B·∫Øt ƒë·∫ßu giao d·ªãch**: `BEGIN;`‚Äã
    
2. **C·∫≠p nh·∫≠t l∆∞∆°ng c·ªßa nh√¢n vi√™n**: `UPDATE NHANVIEN SET LUONG = LUONG + 500 WHERE ID = 1;`‚Äã
    
3. **X√°c nh·∫≠n giao d·ªãch**: `COMMIT;`‚Äã[en.wikipedia.org+1techgoeasy.com+1](https://en.wikipedia.org/wiki/Redo_log)
    

- **Undo Tablespace**: Tr∆∞·ªõc khi th·ª±c hi·ªán c·∫≠p nh·∫≠t, Oracle s·∫Ω l∆∞u gi√° tr·ªã `LUONG` ban ƒë·∫ßu c·ªßa nh√¢n vi√™n c√≥ `ID = 1` v√†o Undo Tablespace. N·∫øu giao d·ªãch b·ªã h·ªßy (ROLLBACK) tr∆∞·ªõc khi `COMMIT`, h·ªá th·ªëng s·∫Ω s·ª≠ d·ª•ng th√¥ng tin n√†y ƒë·ªÉ kh√¥i ph·ª•c gi√° tr·ªã `LUONG` v·ªÅ tr·∫°ng th√°i tr∆∞·ªõc ƒë√≥.‚Äã
    
- **Redo Log**: Khi th·ª±c hi·ªán l·ªánh `UPDATE`, Oracle s·∫Ω ghi l·∫°i thay ƒë·ªïi n√†y v√†o Redo Log Buffer. Sau ƒë√≥, qu√° tr√¨nh LGWR s·∫Ω ghi th√¥ng tin n√†y xu·ªëng t·ªáp Redo Log tr√™n ƒëƒ©a. N·∫øu x·∫£y ra s·ª± c·ªë sau khi giao d·ªãch ƒë√£ ƒë∆∞·ª£c `COMMIT`, Oracle c√≥ th·ªÉ s·ª≠ d·ª•ng Redo Log ƒë·ªÉ √°p d·ª•ng l·∫°i thay ƒë·ªïi n√†y trong qu√° tr√¨nh ph·ª•c h·ªìi, ƒë·∫£m b·∫£o r·∫±ng c·∫≠p nh·∫≠t l∆∞∆°ng kh√¥ng b·ªã m·∫•t.‚Äã[dangxuanduy.com](https://dangxuanduy.com/database/y-nghia-cua-redo-log-undo-data-va-flashback-log/)

---
So s√°nh chi ti·∫øt: 

| **Ti√™u ch√≠**                    | **Undo Data**                                                                                                                                                                                                                                                                   | **Redo Data**                                                                                                                                                                                      |
| ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Tr∆∞·ªõc COMMIT**                | - Khi m·ªôt giao d·ªãch th·ª±c hi·ªán thay ƒë·ªïi (INSERT, UPDATE, DELETE), Oracle l∆∞u b·∫£n sao d·ªØ li·ªáu tr∆∞·ªõc khi thay ƒë·ªïi v√†o **Undo Tablespace**. <br>- Cho ph√©p ho√†n t√°c (ROLLBACK) n·∫øu giao d·ªãch ch∆∞a ƒë∆∞·ª£c x√°c nh·∫≠n, ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n.                                            | - M·ªçi thay ƒë·ªïi d·ªØ li·ªáu, d√π ƒë√£ COMMIT hay ch∆∞a, ƒë·ªÅu ƒë∆∞·ª£c ghi v√†o **Redo Log Buffer**. - ƒê·∫£m b·∫£o kh·∫£ nƒÉng kh√¥i ph·ª•c d·ªØ li·ªáu trong tr∆∞·ªùng h·ª£p s·ª± c·ªë h·ªá th·ªëng.                                         |
| **Sau COMMIT**                  | - Khi giao d·ªãch ƒë∆∞·ª£c COMMIT, thay ƒë·ªïi tr·ªü th√†nh vƒ©nh vi·ªÖn trong c∆° s·ªü d·ªØ li·ªáu. <br>- Th√¥ng tin Undo v·∫´n t·ªìn t·∫°i trong m·ªôt kho·∫£ng th·ªùi gian theo tham s·ªë **UNDO_RETENTION** nh∆∞ng kh√¥ng c√≤n c·∫ßn thi·∫øt cho giao d·ªãch ƒë√£ COMMIT. <br>- Kh√¥ng th·ªÉ ho√†n t√°c thay ƒë·ªïi sau khi COMMIT. | - Khi l·ªánh COMMIT th·ª±c thi, **Log Writer (LGWR)** ghi thay ƒë·ªïi t·ª´ **Redo Log Buffer** xu·ªëng ƒëƒ©a trong **Redo Log**. - Redo Log gi√∫p ph·ª•c h·ªìi d·ªØ li·ªáu sau s·ª± c·ªë, ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn c·ªßa d·ªØ li·ªáu. |
| **Ch·ª©c nƒÉng ch√≠nh**             | Ho√†n t√°c c√°c thay ƒë·ªïi ch∆∞a COMMIT.                                                                                                                                                                                                                                              | Kh√¥i ph·ª•c d·ªØ li·ªáu sau s·ª± c·ªë, b·∫•t k·ªÉ giao d·ªãch ƒë√£ COMMIT hay ch∆∞a.                                                                                                                                  |
| **Kh·∫£ nƒÉng s·ª≠ d·ª•ng sau COMMIT** | Kh√¥ng th·ªÉ s·ª≠ d·ª•ng ƒë·ªÉ ho√†n t√°c c√°c thay ƒë·ªïi sau COMMIT.                                                                                                                                                                                                                          | Lu√¥n ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ kh√¥i ph·ª•c c∆° s·ªü d·ªØ li·ªáu sau s·ª± c·ªë.                                                                                                                                            |

üí° **T√≥m l·∫°i:**

- **Undo** gi√∫p ho√†n t√°c c√°c thay ƒë·ªïi tr∆∞·ªõc khi COMMIT.
- **Redo** ƒë·∫£m b·∫£o d·ªØ li·ªáu c√≥ th·ªÉ ƒë∆∞·ª£c kh√¥i ph·ª•c ngay c·∫£ sau khi COMMIT.

## 2.2 



# 3. C√∫ ph√°p MySQL 
https://wecommit.com.vn/courses/khoa-hoc-lam-chu-sql-danh-cho-moi-nguoi/

# 4. D·ª±ng full database - web ƒëang c√≥: Ch·∫≥ng h·∫°n web cho b√™n Content App The Coach. (b√†i ch·ªã Nhung - log). 

- Video Mentor cunxgtuwnfg log 

# Ki·∫øn tr√∫c thi·∫øt k·∫ø System Design : Full BE, FE, ... 
