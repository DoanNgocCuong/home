Dưới đây là **tóm tắt chi tiết** các bước triển khai ứng dụng lên server dựa theo đoạn hội thoại và hướng dẫn của anh Hùng:

---

## 1. Truy cập vào Server

- **SSH vào server**  
    Mở terminal/WSL/PowerShell và chạy lệnh:
    
    ```bash
    ssh ubuntu@103.253.20.13
    ```
    
- **Nhập mật khẩu**  
    Khi được yêu cầu, nhập:
    
    ```plaintext
    c23GjKI4on6AmSzkSmsNuk5xfsdfasf
    ```
    

---

## 2. Dừng Các Ứng Dụng Cũ

- **Kiểm tra ứng dụng đang chạy trên các port:**
    
    ```bash
    sudo lsof -i :25037
    sudo lsof -i :25038
    ```
    
- **Dừng ứng dụng**  
    Xác định PID từ lệnh trên và chạy:
    
    ```bash
    kill -9 <PID>
    ```
    

---

## 3. Upload File Zip Lên Server

- **Sử dụng `scp` từ máy local:**
    
    ```bash
    scp /path/to/25037_25038_IELTSContent_deploy.zip ubuntu@103.253.20.13:~/hungdv/cuong_dn/
    ```
    
    > Lưu ý: Nếu file đã có trên server, bỏ qua bước này.
    

---

## 4. Giải Nén File và Chuẩn Bị Deploy

- **Chuyển đến thư mục chứa file trên server:**
    
    ```bash
    cd ~/hungdv/cuong_dn
    ls -la
    ```
    
- **Giải nén file zip:**
    
    ```bash
    unzip 25037_25038_IELTSContent_deploy.zip
    ```
    
- **Di chuyển vào thư mục deploy**  
    Nếu thư mục giải nén tên là `deploy`:
    
    ```bash
    cd deploy
    ```
    
- **(Tuỳ chọn) Đổi tên thư mục:**  
    Ví dụ đổi thành `IELTS_Content_App`:
    
    ```bash
    mv deploy IELTS_Content_App
    ```
    

---

## 5. Build và Chạy Ứng Dụng Với Docker

- **Nếu dùng Docker Compose (trong môi trường production):**
    
    ```bash
    docker compose -f docker-compose.prod.yml up --build -d
    ```
    
- **Nếu cần build image và chạy container thủ công:**
    
    ```bash
    sudo docker build -t ielts-app .
    sudo docker run -d -p 25037:25037 -p 25038:25038 ielts-app
    ```
    
    > **Lưu ý:** Khi dùng `docker-compose`, bạn thường không cần sử dụng `sudo`.
    

---

## 6. Kiểm Tra Ứng Dụng

- **Truy cập qua trình duyệt:**
    - [http://103.253.20.13:25037](http://103.253.20.13:25037/)
    - [http://103.253.20.13:25038](http://103.253.20.13:25038/)

---

## Mini Task: Kiểm Tra Thư Mục “Cuong” Qua Docker

- **Xác định container chạy trên port 25039:**
    
    ```bash
    sudo docker ps | grep 25039
    ```
    
- **Kiểm tra thông tin container (Mounts, v.v.):**
    
    ```bash
    sudo docker inspect <container_id>
    ```
    
- **Xem cấu trúc thư mục dạng cây:**
    
    ```bash
    sudo apt install tree -y  # nếu chưa cài tree
    tree -L 2
    ```
    

---

## 7. Quản Lý File Trên Server

Có nhiều công cụ hỗ trợ quản lý file, ví dụ:

|**Công Cụ**|**Nền Tảng**|**Chức Năng**|**Giao Thức**|**Đối Tượng**|**Link**|
|---|---|---|---|---|---|
|**WinSCP**|Windows|Duyệt file, kéo thả, chỉnh sửa trực tiếp|SFTP, SCP|Người dùng Windows muốn giao diện giống Explorer|[Tải WinSCP](https://winscp.net/eng/download.php)|
|**FileZilla**|Windows, macOS, Linux|Truyền file với giao diện đơn giản|FTP, SFTP|Quản lý file qua giao diện dễ làm quen|[Tải FileZilla](https://filezilla-project.org/)|
|**MobaXterm**|Windows|SSH client tích hợp quản lý file|SSH, SFTP|Lập trình viên cần SSH & quản lý file trong 1 app|[Tải MobaXterm](https://mobaxterm.mobatek.net/)|
|**Visual Studio Code**|Windows, macOS, Linux|IDE với extension Remote-SSH để duyệt/chỉnh sửa file|SSH|Lập trình viên muốn chỉnh sửa file trực tiếp|[Tải VS Code](https://code.visualstudio.com/)|
|**Cockpit**|Web-based|Quản lý server qua trình duyệt|Web browser|Người thích quản lý server qua giao diện web|(Cần cài đặt trên server)|

---

## 8. Cấu Hình SSH Cho VSCode (Remote - SSH)

1. **Tạo hoặc chỉnh sửa file cấu hình SSH**  
    Mở file `C:\Users\User\.ssh\config` và thêm:
    
    ```plaintext
    Host my-server
        HostName 103.253.20.13
        User ubuntu
        Port 22
        IdentityFile C:\Users\User\.ssh\id_rsa
    ```
    
    - **Lưu ý:** Nếu bạn đăng nhập bằng mật khẩu, có thể bỏ qua dòng `IdentityFile`.
2. **Kết nối qua VSCode:**  
    Mở VSCode, nhấn `Ctrl+Shift+P`, chọn **Remote-SSH: Connect to Host**, sau đó chọn `my-server`.
    

---

## Tóm Lại Quy Trình Deploy

1. **SSH vào server**
    - Đăng nhập với `ssh ubuntu@103.253.20.13` và password.
2. **Dừng các ứng dụng cũ trên port 25037 và 25038.**
3. **Upload file zip** (nếu cần) và **giải nén**.
4. **Chuyển vào thư mục deploy** và (nếu cần) đổi tên thư mục.
5. **Build và chạy ứng dụng** qua Docker/Docker Compose.
6. **Kiểm tra ứng dụng** trên trình duyệt.
7. **Sử dụng các công cụ quản lý file** (WinSCP, FileZilla, MobaXterm, VSCode, Cockpit) nếu cần thao tác trực quan.
8. **Cấu hình SSH cho VSCode** để chỉnh sửa và quản lý file từ xa.

Nếu gặp bất kỳ vấn đề nào trong quá trình deploy, hãy liên hệ anh Hùng để được hỗ trợ thêm nhé!