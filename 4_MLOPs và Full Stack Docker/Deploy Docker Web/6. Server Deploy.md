
```
anh Hùng ơi. Em chưa được cầm vào được server công ty.  
---------  
[http://103.253.20.13/](http://103.253.20.13/)  
a Hùng đẩy deploy giúp tụi em, con app này lên PORT 25037, 25038 với ạ.  
(trên 25037, 25038 hiện đang chạy bản cũ của app này, anh `kill` trước ạ).  
----------  
Thank anh nhiều ạ ^^ (edited) 

Zip 

[

25037_25038_IELTSContent_deploy.zip

Zip







](https://files.slack.com/files-pri/T07GKH6K2DP-F0858B5GCKS/download/25037_25038_ieltscontent_deploy.zip?origin_team=T07GKH6K2DP)

[](https://files.slack.com/files-pri/T07GKH6K2DP-F0858B5GCKS/download/25037_25038_ieltscontent_deploy.zip?origin_team=T07GKH6K2DP)

7 replies

---

![](https://ca.slack-edge.com/T07GKH6K2DP-U07G707HGAW-42aa95302eed-48)

Đinh HùngĐinh Hùng  [8 minutes ago](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733885599158149?thread_ts=1733885514.144939&cid=D07MVG6EG7N)  

Em truy nhập được mà, anh add key của em vào rồi mà

![:hushed:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/google-small/1f62f@2x.png)1

[9:54](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733885649448959?thread_ts=1733885514.144939&cid=D07MVG6EG7N)

ssh vào nó đi  
ssh ubuntu@103.253.20.13  
=> Vô dùng luôn.  
Thế trước em chạy con APP Embed.js thì em chạy lên server mới chạy được chứ nhỉ?

[9:54](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733885673861479?thread_ts=1733885514.144939&cid=D07MVG6EG7N)

Cần anh hướng dẫn support vào thì ping nhé, anh hướng dẫn

![](https://ca.slack-edge.com/T07GKH6K2DP-U07MCEXCEPR-ada375f7ac82-48)

Ngọc Cường ĐoànNgọc Cường Đoàn![:calendar:](https://a.slack-edge.com/production-standard-emoji-assets/14.0/apple-large/1f4c6.png)  [5 minutes ago](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733885815486549?thread_ts=1733885514.144939&cid=D07MVG6EG7N)  

ehehe, thế để em thử ạ.

image.png 

[

![image.png](https://files.slack.com/files-tmb/T07GKH6K2DP-F084KEN6T8B-f19a7ab4cf/image_720.png)

](https://files.slack.com/files-pri/T07GKH6K2DP-F084KEN6T8B/image.png)

[](https://files.slack.com/files-pri/T07GKH6K2DP-F084KEN6T8B/download/image.png?origin_team=T07GKH6K2DP)

[9:57](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733885828729929?thread_ts=1733885514.144939&cid=D07MVG6EG7N)

password là gì anh nhỉ

![](https://ca.slack-edge.com/T07GKH6K2DP-U07G707HGAW-42aa95302eed-48)

Đinh HùngĐinh Hùng  [3 minutes ago](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733885940554309?thread_ts=1733885514.144939&cid=D07MVG6EG7N)  

username/ pass :ubuntu/c23GjKI4on6AmSzkSmsNuk5xfsdfasf

[10:00](https://magicalaiworkspace.slack.com/archives/D07MVG6EG7N/p1733886050876019?thread_ts=1733885514.144939&cid=D07MVG6EG7N)

Khi em chạy lệnh build trên hạ tầng sẽ phải dùng lệnh sudo docker build ... => Nhập password.  
Còn khi chạy run container bằng docker-compose thì không cần chạy với lệnh sudo.  
Lưu ý => Hạn chế dùng sudo xxx để phòng trừ em mà remove gì đó mà nhầm câu lệnh là đi hết nhé.
```


Dựa vào đoạn hội thoại và hướng dẫn của anh Hùng, dưới đây là các bước chi tiết để bạn có thể deploy ứng dụng lên server thành công:

---

### **1. Truy cập vào server**

#### SSH vào server:

Sử dụng thông tin đăng nhập mà anh Hùng cung cấp:

```bash
ssh ubuntu@103.253.20.13
```

Khi được yêu cầu, nhập mật khẩu:

```plaintext
c23GjKI4on6AmSzkSmsNuk5xfsdfasf
```

---

### **2. Dừng các ứng dụng cũ**

Trước khi deploy bản mới, bạn cần dừng các ứng dụng đang chạy trên `PORT 25037` và `25038`.

#### Kiểm tra ứng dụng đang chạy:

```bash
sudo lsof -i :25037
sudo lsof -i :25038
```

#### Dừng các ứng dụng:

Xác định `PID` từ lệnh trên và dừng ứng dụng:

```bash
kill -9 <PID>
```

---

### **3. Upload file zip lên server**

Nếu file `25037_25038_IELTSContent_deploy.zip` chưa có trên server, bạn cần tải nó lên.

#### Sử dụng `scp`:

```bash
scp /path/to/25037_25038_IELTSContent_deploy.zip ubuntu@103.253.20.13:/home/ubuntu/
```

---

### **4. Giải nén file và chuẩn bị chạy ứng dụng**

Sau khi đăng nhập vào server:

```bash
cd /home/ubuntu
unzip 25037_25038_IELTSContent_deploy.zip -d ./deploy
cd ./deploy
```

---

### **5. Build và chạy ứng dụng**

Nếu ứng dụng của bạn sử dụng Docker, làm theo các bước sau:

#### Build Docker image:

```bash
sudo docker build -t ielts-app .
```

Nhập mật khẩu khi cần.

#### Chạy ứng dụng trên các port:

```bash
sudo docker run -d -p 25037:25037 -p 25038:25038 ielts-app
```

---

### **6. Kiểm tra ứng dụng**

Truy cập vào ứng dụng qua trình duyệt:

- [http://103.253.20.13:25037](http://103.253.20.13:25037/)
- [http://103.253.20.13:25038](http://103.253.20.13:25038/)

---

### **Lưu ý từ anh Hùng**

- Hạn chế sử dụng `sudo` khi không cần thiết để tránh nhầm lẫn với các lệnh nguy hiểm (như `sudo rm`).
- Nếu sử dụng `docker-compose`, bạn không cần chạy lệnh với `sudo`.

---

Nếu gặp vấn đề trong bất kỳ bước nào, bạn có thể nhờ anh Hùng hướng dẫn thêm.


Để xem cấu trúc thư mục hiện tại trên server từ ứng dụng, bạn có thể sử dụng **File Manager** hoặc **SSH Client**. Dưới đây là một số ứng dụng phổ biến phù hợp với nhu cầu này:

---

### **1. Sử dụng SSH Client**

#### Truy cập trực tiếp từ máy tính để kiểm tra cấu trúc:

- **Windows**: Sử dụng [PuTTY](https://www.putty.org/) hoặc [MobaXterm](https://mobaxterm.mobatek.net/).
- **macOS/Linux**: Terminal tích hợp sẵn.

Sau khi SSH vào server, bạn có thể dùng các lệnh Linux để duyệt thư mục:

- **Xem danh sách thư mục hiện tại**:
    
    ```bash
    ls -la
    ```
    
- **Xem cấu trúc thư mục dạng cây (tree)**:
    
    ```bash
    sudo apt install tree -y  # Nếu chưa cài đặt lệnh `tree`
    tree
    ```
    

---

### **2. Sử dụng File Manager GUI**

Nếu bạn thích giao diện đồ họa để duyệt file và cấu trúc thư mục, có thể sử dụng:

#### a. **WinSCP** (Windows)

- Dùng để kết nối đến server qua giao thức **SFTP**.
- Tải tại: [WinSCP](https://winscp.net/eng/index.php).
- Đăng nhập bằng SSH thông tin (IP, username, password hoặc SSH key).
- Giao diện hiển thị như Explorer, dễ dàng xem và thao tác cấu trúc thư mục.

#### b. **FileZilla** (Windows/macOS/Linux)

- Dùng để kết nối qua **SFTP/FTP**.
- Tải tại: [FileZilla](https://filezilla-project.org/).
- Đăng nhập với thông tin SSH:
    - **Host**: `sftp://103.253.20.13`
    - **Username**: `ubuntu`
    - **Password**: (do anh Hùng cung cấp)
- Hiển thị cấu trúc thư mục tương tự.

---

### **3. Web-based File Manager**

Nếu server đã cài đặt các công cụ như **phpMyAdmin** hoặc **Cockpit**, bạn có thể sử dụng trình duyệt web để xem cấu trúc thư mục:

- **Cockpit** (nếu được cài đặt): Truy cập [http://103.253.20.13:9090](http://103.253.20.13:9090/) để quản lý server và duyệt file.

---

### **4. IDE hỗ trợ kết nối server**

Một số IDE hỗ trợ duyệt file server thông qua SSH hoặc SFTP:

- **Visual Studio Code**:
    - Cài extension **Remote - SSH**.
    - Kết nối đến server và xem cấu trúc thư mục trực tiếp.
- **JetBrains IDEs** (PyCharm, IntelliJ):
    - Hỗ trợ duyệt file từ server qua **Deployment > SFTP**.

---

Nếu bạn chưa cài đặt công cụ nào, mình khuyên bạn thử **WinSCP** hoặc **FileZilla** để xem cấu trúc thư mục một cách dễ dàng!



### Mini Task: 
- Kiểm tra thư mục có tên Cuong trong server dựa vào Docker 
```
sudo docker ps | grep 25039
sudo docker inspect 5989f46eafe4 
# Kiểm tra Mount
```

Xem cấu trúc thư mục dạng cây

```
sudo apt install tree -y # Nếu chưa có lệnh `tree`
tree -L 2

```

Giờ deploy như nào (code đang trên local). Đang xài SSH call tới server
```
Windows PowerShell
Copyright (C) Microsoft Corporation. All rights reserved.

Install the latest PowerShell for new features and improvements! https://aka.ms/PSWindows

PS C:\Users\User> scp "D:\OneDrive - Hanoi University of Science and Technology\GIT\MiniProd_ContentEngFlow_IELTSStepUpE_T102024\25037_25038_IELTSContent_deploy.zip" ubuntu@103.253.20.13:~/hungdv/cuong_dn/
25037_25038_IELTSContent_deploy.zip                                                   100% 2118KB  17.8MB/s   00:00
PS C:\Users\User>

ssh ubuntu@103.253.20.13
cd ~/hungdv/cuong_dn
ls -la
unzip 25037_25038_IELTSContent_deploy.zip

[ubuntu@mgc-dev-3090-01:~/hungdv/cuong_dn] [base] $ cd 25037_25038_IELTSContent_deploy
-bash: cd: 25037_25038_IELTSContent_deploy: No such file or directory
[ubuntu@mgc-dev-3090-01:~/hungdv/cuong_dn] [base] 1 $ cd deploy
[ubuntu@mgc-dev-3090-01:~/hungdv/cuong_dn/deploy] [base] $

mv deploy IELTS_Content_App

[ubuntu@mgc-dev-3090-01:~/hungdv/cuong_dn/IELTS_Content_App] [base] $ docker compose -f docker-compose.prod.yml up --build -d

```

```
### **Nếu đang chạy trên server**

Bạn không cần dùng `scp` nếu file nằm trên máy local, vì `scp` chỉ áp dụng khi cần chuyển file từ máy local sang server. Trong trường hợp này:

1. Truy cập **máy local** của bạn.
2. Mở terminal (hoặc Command Prompt nếu đang dùng Windows).
3. Chạy lệnh `scp` từ máy local với IP thực tế của server (ví dụ, `103.253.20.13`).
```