
### **SSH Tunnel lÃ  gÃ¬?**

  

SSH Tunnel (tunnel qua giao thá»©c SSH) lÃ  má»™t phÆ°Æ¡ng phÃ¡p thiáº¿t láº­p **kÃªnh truyá»n thÃ´ng báº£o máº­t** giá»¯a hai há»‡ thá»‘ng, thÆ°á»ng lÃ  mÃ¡y cá»¥c bá»™ (local machine) vÃ  má»™t mÃ¡y chá»§ tá»« xa (remote server), thÃ´ng qua giao thá»©c **SSH (Secure Shell)**.

  

### **CÃ¡ch Hoáº¡t Äá»™ng**

SSH Tunnel chuyá»ƒn tiáº¿p káº¿t ná»‘i tá»« má»™t cá»•ng trÃªn mÃ¡y cá»¥c bá»™ (local port) qua má»™t kÃªnh báº£o máº­t Ä‘áº¿n mÃ¡y chá»§ tá»« xa. Sau Ä‘Ã³, mÃ¡y chá»§ sáº½ chuyá»ƒn tiáº¿p káº¿t ná»‘i Ä‘áº¿n má»™t cá»•ng khÃ¡c mÃ  báº¡n cáº§n truy cáº­p.

  

NÃ³ cÃ³ 3 loáº¡i chuyá»ƒn tiáº¿p phá»• biáº¿n:

1. **Local Port Forwarding** (Chuyá»ƒn tiáº¿p cá»•ng cá»¥c bá»™)

2. **Remote Port Forwarding** (Chuyá»ƒn tiáº¿p cá»•ng tá»« xa)

3. **Dynamic Port Forwarding** (Chuyá»ƒn tiáº¿p cá»•ng Ä‘á»™ng)

  

---

  

### **VÃ¬ Sao Cáº§n SSH Tunnel?**

SSH Tunnel Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ:

1. **Báº£o máº­t káº¿t ná»‘i:**

Â  Â - Dá»¯ liá»‡u Ä‘Æ°á»£c mÃ£ hÃ³a khi truyá»n qua máº¡ng.

Â  Â - TrÃ¡nh cÃ¡c nguy cÆ¡ nhÆ° nghe lÃ©n (sniffing) hoáº·c táº¥n cÃ´ng man-in-the-middle.

  

2. **Káº¿t ná»‘i vÃ o cÃ¡c dá»‹ch vá»¥ khÃ´ng trá»±c tiáº¿p má»Ÿ ra ngoÃ i Internet:**

Â  Â - VÃ­ dá»¥: Báº¡n muá»‘n káº¿t ná»‘i tá»›i database PostgreSQL hoáº·c MySQL cháº¡y trÃªn má»™t server tá»« xa mÃ  chá»‰ cÃ³ thá»ƒ truy cáº­p qua SSH.

  

3. **VÆ°á»£t qua firewall hoáº·c NAT:**

Â  Â - Náº¿u dá»‹ch vá»¥ báº¡n cáº§n truy cáº­p bá»‹ cháº·n bá»Ÿi firewall, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng SSH Tunnel Ä‘á»ƒ vÆ°á»£t qua.

  

---

  

### **VÃ­ dá»¥ Vá» SSH Tunnel**

  

#### **Truy cáº­p PostgreSQL qua SSH Tunnel**

  

- **Ká»‹ch báº£n:**

Â  PostgreSQL cháº¡y trÃªn server tá»« xa (IP: `192.168.1.100`, cá»•ng `5432`), nhÆ°ng server khÃ´ng má»Ÿ cá»•ng nÃ y ra ngoÃ i Internet. Báº¡n chá»‰ cÃ³ thá»ƒ káº¿t ná»‘i qua SSH.

  

- **Giáº£i phÃ¡p:**

Â  Sá»­ dá»¥ng SSH Tunnel Ä‘á»ƒ táº¡o má»™t "Ä‘Æ°á»ng á»‘ng" tá»« mÃ¡y cá»¥c bá»™ Ä‘áº¿n cá»•ng `5432` cá»§a PostgreSQL.

  

- **Lá»‡nh SSH Tunnel:**

Â  ```bash

Â  ssh -L 5434:localhost:5432 ubuntu@192.168.1.100

Â  ```

Â  - `5434`: Cá»•ng trÃªn mÃ¡y cá»¥c bá»™ báº¡n muá»‘n chuyá»ƒn tiáº¿p.

Â  - `localhost:5432`: Äá»‹a chá»‰ vÃ  cá»•ng PostgreSQL trÃªn server tá»« xa.

Â  - `ubuntu@192.168.1.100`: ThÃ´ng tin Ä‘Äƒng nháº­p SSH.

  

- **Káº¿t quáº£:**

Â  BÃ¢y giá» báº¡n cÃ³ thá»ƒ káº¿t ná»‘i tá»›i PostgreSQL thÃ´ng qua `localhost:5434` trÃªn mÃ¡y cá»¥c bá»™, nhÆ° thá»ƒ PostgreSQL Ä‘ang cháº¡y cá»¥c bá»™.

  

---

  

### **SSH Tunnel DÃ¹ng á» ÄÃ¢u?**

1. **Káº¿t ná»‘i database qua SSH**:

Â  Â - PostgreSQL, MySQL, MongoDB, v.v.

2. **Káº¿t ná»‘i vÃ o mÃ´i trÆ°á»ng ná»™i bá»™ (Intranet):**

Â  Â - VÃ­ dá»¥: Káº¿t ná»‘i vÃ o máº¡ng cÃ´ng ty tá»« bÃªn ngoÃ i.

3. **Báº£o máº­t HTTP/HTTPS**:

Â  Â - Truy cáº­p cÃ¡c website ná»™i bá»™ qua kÃªnh SSH Ä‘Æ°á»£c mÃ£ hÃ³a.

  

---

  

### **CÃ´ng Cá»¥ TÃ­ch Há»£p SSH Tunnel**

1. **DBeaver**:

Â  Â - Tá»± Ä‘á»™ng cáº¥u hÃ¬nh SSH Tunnel Ä‘á»ƒ truy cáº­p database.

2. **pgAdmin**:

Â  Â - Há»— trá»£ SSH Tunnel Ä‘á»ƒ káº¿t ná»‘i PostgreSQL.

3. **MÃ£ Python**:

Â  Â - DÃ¹ng thÆ° viá»‡n `sshtunnel` Ä‘á»ƒ thiáº¿t láº­p SSH Tunnel trong cÃ¡c á»©ng dá»¥ng cá»§a báº¡n.

  

---

  

### **HÃ¬nh Minh Há»a**

  

Giáº£ sá»­ báº¡n muá»‘n káº¿t ná»‘i Ä‘áº¿n PostgreSQL cháº¡y trÃªn má»™t mÃ¡y chá»§ tá»« xa:

  

```

[Your PC] ---SSH Tunnel--- [Remote Server] ---PostgreSQL

```

  

Thay vÃ¬ káº¿t ná»‘i trá»±c tiáº¿p Ä‘áº¿n PostgreSQL, báº¡n káº¿t ná»‘i qua SSH Tunnel. Táº¥t cáº£ dá»¯ liá»‡u truyá»n qua Ä‘Æ°á»ng háº§m nÃ y Ä‘á»u Ä‘Æ°á»£c mÃ£ hÃ³a vÃ  báº£o máº­t.

  

---

  

Náº¿u báº¡n cáº§n thÃªm vÃ­ dá»¥ hoáº·c trá»£ giÃºp thiáº¿t láº­p, mÃ¬nh sáºµn sÃ ng há»— trá»£! ğŸ˜Š