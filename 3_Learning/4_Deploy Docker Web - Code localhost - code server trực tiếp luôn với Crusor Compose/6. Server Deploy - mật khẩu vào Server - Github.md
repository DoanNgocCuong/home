

## 1. Sá»­ dá»¥ng Crusor / VSCode Ä‘á»ƒ truy cáº­p Server qua SSH code cho tiá»‡n. 
- CÃ¡c lá»‡nh cáº§n lÃªn server sáº½ xÃ i: sudo
Cháº³ng háº¡n: 
```
sudo docker compose up --build -d
```
---

## 2. Truy cáº­p vÃ o Server

- **SSH vÃ o server**  
    Má»Ÿ terminal/WSL/PowerShell vÃ  cháº¡y lá»‡nh:
    
    ```bash
    ssh ubuntu@103.253.20.13
    ```
    
- **Nháº­p máº­t kháº©u**  
    
    ```plaintext
	    c23GjKI4on6AmSzkSmsNuk5xfsdfasf
	    StepUp1MGC2468uvK!!!
    ```
    
- **SSH vÃ o server**  
    Má»Ÿ terminal/WSL/PowerShell vÃ  cháº¡y lá»‡nh:
    
    ```bash
    ssh ubuntu@103.253.20.30
    ```
    
- **Nháº­p máº­t kháº©u**  
    
    ```plaintext
	    StepUp1MGC2468uvK!!!
    ```
    
--
---

## 3. Bá»• trá»£: Xem thÆ° má»¥c dáº¡ng cÃ¢y - XÃ¡c Ä‘á»‹nh port nÃ o Ä‘ang cháº¡y 

- **XÃ¡c Ä‘á»‹nh container cháº¡y trÃªn port 25039:**
    
    ```bash
    sudo docker ps | grep 25039
    ```

- **Xem cáº¥u trÃºc thÆ° má»¥c dáº¡ng cÃ¢y:**
    
    ```bash
    sudo apt install tree -y  # náº¿u chÆ°a cÃ i tree
    tree -L 2
    ```
    
Cáº¥u HÃ¬nh SSH Cho VSCode (Remote - SSH)

1. **Táº¡o hoáº·c chá»‰nh sá»­a file cáº¥u hÃ¬nh SSH**  
    Má»Ÿ file `C:\Users\User\.ssh\config` vÃ  thÃªm:
    
    ```plaintext
    Host my-server
        HostName 103.253.20.13
        User ubuntu
        Port 22
        IdentityFile C:\Users\User\.ssh\id_rsa
    ```
    
    - **LÆ°u Ã½:** Náº¿u báº¡n Ä‘Äƒng nháº­p báº±ng máº­t kháº©u, cÃ³ thá»ƒ bá» qua dÃ²ng `IdentityFile`.
2. **Káº¿t ná»‘i qua VSCode:**  
    Má»Ÿ VSCode, nháº¥n `Ctrl+Shift+P`, chá»n **Remote-SSH: Connect to Host**, sau Ä‘Ã³ chá»n `my-server`.
    
#### Quáº£n LÃ½ File TrÃªn Server

| **CÃ´ng Cá»¥**            | **Ná»n Táº£ng**          | **Chá»©c NÄƒng**                                        | **Giao Thá»©c** | **Äá»‘i TÆ°á»£ng**                                     | **Link**                                          |
| ---------------------- | --------------------- | ---------------------------------------------------- | ------------- | ------------------------------------------------- | ------------------------------------------------- |
| **WinSCP**             | Windows               | Duyá»‡t file, kÃ©o tháº£, chá»‰nh sá»­a trá»±c tiáº¿p             | SFTP, SCP     | NgÆ°á»i dÃ¹ng Windows muá»‘n giao diá»‡n giá»‘ng Explorer  | [Táº£i WinSCP](https://winscp.net/eng/download.php) |
| **FileZilla**          | Windows, macOS, Linux | Truyá»n file vá»›i giao diá»‡n Ä‘Æ¡n giáº£n                   | FTP, SFTP     | Quáº£n lÃ½ file qua giao diá»‡n dá»… lÃ m quen            | [Táº£i FileZilla](https://filezilla-project.org/)   |
| **MobaXterm**          | Windows               | SSH client tÃ­ch há»£p quáº£n lÃ½ file                     | SSH, SFTP     | Láº­p trÃ¬nh viÃªn cáº§n SSH & quáº£n lÃ½ file trong 1 app | [Táº£i MobaXterm](https://mobaxterm.mobatek.net/)   |
| **Visual Studio Code** | Windows, macOS, Linux | IDE vá»›i extension Remote-SSH Ä‘á»ƒ duyá»‡t/chá»‰nh sá»­a file | SSH           | Láº­p trÃ¬nh viÃªn muá»‘n chá»‰nh sá»­a file trá»±c tiáº¿p      | [Táº£i VS Code](https://code.visualstudio.com/)     |
| **Cockpit**            | Web-based             | Quáº£n lÃ½ server qua trÃ¬nh duyá»‡t                       | Web browser   | NgÆ°á»i thÃ­ch quáº£n lÃ½ server qua giao diá»‡n web      | (Cáº§n cÃ i Ä‘áº·t trÃªn server)                         |

---

## Äáº£m báº£o tá»‘i Æ°u Disk - Server

```python
# XÃ³a táº¥t cáº£ containers, images, volumes khÃ´ng dÃ¹ng
docker system prune -af --volumes
```





# 4. Vá» Ä‘áº©y code thao tÃ¡c vá»›i server - git

# 1. Connect Pull Code xuá»‘ng Server

## 1.1 **TÃ³m táº¯t cÃ¡ch káº¿t ná»‘i GitHub cÃ¡ nhÃ¢n vá»›i server cÃ´ng ty Ä‘á»ƒ clone repo trá»±c tiáº¿p** ğŸš€

1. **Kiá»ƒm tra SSH key trÃªn server**
    
    ```bash
    ls -al ~/.ssh
    ```

```
Â± ls -al ~/.ssh2-3090:~/cuong_dn/MiniProd_Web4_ContentEngFlow_StepUpE_T102024]â””4 main 
total 52
drwx------  2 ubuntu ubuntu  4096 May  5 09:25 .
drwxr-xr-x 17 ubuntu ubuntu  4096 May  5 09:31 ..
-rw-rw-r--  1 ubuntu ubuntu 11250 Apr 21 08:32 authorized_keys
-rw-rw-r--  1 ubuntu ubuntu   309 May  5 09:25 config
-rw-------  1 ubuntu ubuntu  1675 Apr 22 11:33 id_rsa
-rw-r--r--  1 ubuntu ubuntu   402 Apr 22 11:33 id_rsa.pub
-rw-------  1 ubuntu ubuntu  3243 May  5 09:28 id_rsa_doanngoccuong
-rw-r--r--  1 ubuntu ubuntu   756 May  5 09:28 id_rsa_doanngoccuong.pub
-rw-------  1 ubuntu ubuntu  3243 May  5 09:07 id_rsa_newgithub
-rw-r--r--  1 ubuntu ubuntu   756 May  5 09:07 id_rsa_newgithub.pub
-rw-r--r--  1 ubuntu ubuntu  1110 Apr 25 03:58 known_hosts
Â± \buntu@mgc-dev2-3090:~/cuong_dn/MiniProd_Web4_ContentEngFlow_StepUpE_T102024]â””4 main 
```

- Náº¿u Ä‘Ã£ cÃ³ `id_rsa` vÃ  `id_rsa.pub`, tiáº¿p tá»¥c bÆ°á»›c 3.
- Náº¿u chÆ°a cÃ³, táº¡o SSH key má»›i:

```
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"
```
        
2. **Láº¥y SSH Public Key**
    
    ```bash
    cat ~/.ssh/id_rsa.pub
    ```
    
    - Sao chÃ©p toÃ n bá»™ ná»™i dung public key.
3. **ThÃªm SSH Key vÃ o GitHub**
    
    - Truy cáº­p [GitHub SSH Keys](https://github.com/settings/keys).
    - Chá»n **New SSH Key** â†’ DÃ¡n ná»™i dung key â†’ **Add SSH Key**.
4. **Kiá»ƒm tra káº¿t ná»‘i vá»›i GitHub**
    
    ```bash
    ssh -T git@github.com
    ```
    
    - Náº¿u hiá»ƒn thá»‹:
        
        ```
        Hi your-username! You've successfully authenticated, but GitHub does not provide shell access.
        ```
        
        â†’ Káº¿t ná»‘i thÃ nh cÃ´ng.
5. **Clone repo vá» server**
    
    ```bash
    git clone git@github.com:your-username/your-repo.git
    ```
    
    - Thay `your-username` báº±ng GitHub username cá»§a báº¡n.
    - Thay `your-repo` báº±ng tÃªn repo cáº§n clone.

ğŸ“Œ **Ghi chÃº:** Náº¿u gáº·p lá»—i `Permission denied (publickey)`, cháº¡y:

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa
```


---
## 1.2 Báº¡n muá»‘n thÃªm má»™t tÃ i khoáº£n GitHub má»›i vÃ o mÃ¡y nÃ y. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡c bÆ°á»›c Ä‘Æ¡n giáº£n Ä‘á»ƒ thÃªm má»™t tÃ i khoáº£n GitHub má»›i:

### 1. Táº¡o SSH key má»›i cho tÃ i khoáº£n GitHub má»›i

```bash
ssh-keygen -t rsa -b 4096 -C "email_cua_ban@github.com"
```
- Khi Ä‘Æ°á»£c há»i nÆ¡i lÆ°u file, báº¡n nÃªn Ä‘áº·t tÃªn khÃ¡c, vÃ­ dá»¥: `~/.ssh/id_rsa_newgithub`
`~/.ssh/id_rsa_doanngoccuong`
- Äáº·t passphrase náº¿u muá»‘n (hoáº·c Ä‘á»ƒ trá»‘ng).

### 2. ThÃªm SSH key má»›i vÃ o ssh-agent

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa_newgithub
ssh-add ~/.ssh/id_rsa_doanngoccuong

```

```
[ubuntu@mgc-dev2-3090:~/cuong_dn]â””4 $ eval "$(ssh-agent -s)"
Agent pid 2967
```
### 3. ThÃªm public key vÃ o GitHub má»›i

- Láº¥y ná»™i dung public key:
  ```bash
  cat ~/.ssh/id_rsa_newgithub.pub
- cat ~/.ssh/id_rsa_doanngoccuong.pub
  ```
***- Copy ná»™i dung nÃ y, vÃ o GitHub má»›i â†’ Settings â†’ SSH and GPG keys â†’ New SSH key â†’ DÃ¡n vÃ o.***

### Kiá»ƒm tra xem Ä‘Ã£ thÃªm Ä‘Æ°á»£c ssh server vÃ o github chÆ°a 

```
[ubuntu@mgc-dev2-3090:~/cuong_dn]â””4 $ ssh -T git@github.com
Hi thanhdt24! You've successfully authenticated, but GitHub does not provide shell access.
```

Báº¡n Ä‘Ã£ lÃ m Ä‘Ãºng cÃ¡c bÆ°á»›c táº¡o SSH key má»›i vÃ  thÃªm vÃ o tÃ i khoáº£n GitHub má»›i. Tuy nhiÃªn, khi kiá»ƒm tra váº«n ra â€œthanhdt24â€.  
Äiá»u nÃ y thÆ°á»ng do Git Ä‘ang dÃ¹ng SSH key cÅ© (cá»§a thanhdt24) thay vÃ¬ key má»›i (cá»§a DoanNgocCuong).

**Báº¡n cáº§n lÃ m thÃªm 1 bÆ°á»›c ná»¯a:**  
Cáº¥u hÃ¬nh file `~/.ssh/config` Ä‘á»ƒ chá»‰ Ä‘á»‹nh Ä‘Ãºng SSH key cho tÃ i khoáº£n GitHub cá»§a báº¡n.

---
### Kiá»ƒm tra láº¡i SSH:

```bash
ssh -T git@github.com-doanngoccuong
```
Náº¿u Ä‘Ãºng, sáº½ hiá»‡n:
```
[ubuntu@mgc-dev2-3090:~/cuong_dn]â””4 $ ssh -T git@github.com-doanngoccuong
Hi DoanNgocCuong! You've successfully authenticated, but GitHub does not provide shell access.
[ubuntu@mgc-dev2-3090:~/cuong_dn]â””4 $ 
```

---

### VÃ­ dá»¥ cáº¥u hÃ¬nh file `~/.ssh/config`:

Má»Ÿ file (táº¡o má»›i náº¿u chÆ°a cÃ³):
```bash
nano ~/.ssh/config
```

ThÃªm vÃ o:
```
# Key cho tÃ i khoáº£n DoanNgocCuong
Host github.com-doanngoccuong
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_doanngoccuong

# Key cho tÃ i khoáº£n thanhdt24 (náº¿u váº«n dÃ¹ng)
Host github.com-thanhdt24
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_thanhdt24
```

---
## 1.3 Bug khi Clone 1 Private Repo: 

```
[ubuntu@mgc-dev2-3090:~/cuong_dn]â””4 $ git clone https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024
Cloning into 'MiniProd_Web4_ContentEngFlow_StepUpE_T102024'...
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024/'
```


Báº¡n Ä‘Ã£ xÃ¡c thá»±c SSH thÃ nh cÃ´ng vá»›i tÃ i khoáº£n DoanNgocCuong:

```
Hi DoanNgocCuong! You've successfully authenticated, but GitHub does not provide shell access.
```

NhÆ°ng khi clone báº±ng HTTPS, báº¡n váº«n bá»‹ lá»—i:
```
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024/'
```

**NguyÃªn nhÃ¢n:**  
- Báº¡n Ä‘ang dÃ¹ng HTTPS Ä‘á»ƒ clone, nhÆ°ng GitHub khÃ´ng cho dÃ¹ng username/password thÃ´ng thÆ°á»ng ná»¯a. Náº¿u khÃ´ng nháº­p Personal Access Token (PAT), sáº½ bá»‹ lá»—i nÃ y.
- Báº¡n Ä‘Ã£ cáº¥u hÃ¬nh SSH Ä‘Ãºng, nÃªn hÃ£y dÃ¹ng SSH Ä‘á»ƒ clone.

CÃ¡ch sá»­a lá»—i

**1. Clone báº±ng SSH (khÃ´ng dÃ¹ng HTTPS):**


Hoáº·c náº¿u báº¡n Ä‘Ã£ cáº¥u hÃ¬nh Host trong `~/.ssh/config` lÃ  `github.com-doanngoccuong`, dÃ¹ng:
```bash
git clone git@github.com-doanngoccuong:DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024.git

git clone git@gitlab.com:platform-rag/personalized-ai-coach.git

git clone git@gitlab.com:platform-rag/robot-ai-lesson.git

git clone git@gitlab.com:platform-rag/robot-ai-tool.git

git clone git@gitlab.com:platform-rag/robot-ai-workflow.git
```

**2. KhÃ´ng dÃ¹ng HTTPS ná»¯a**  
Chá»‰ dÃ¹ng HTTPS khi báº¡n cÃ³ Personal Access Token (PAT) vÃ  nháº­p vÃ o khi Ä‘Æ°á»£c há»i máº­t kháº©u.



---





# 2. Äáº©y code lÃªn: 

## 2.1. Set tÃªn vÃ  email cho repository hiá»‡n táº¡i

```
# Set tÃªn vÃ  email cá»§a báº¡n cho repository hiá»‡n táº¡i

git config --local user.name "Doan Ngoc Cuong"

git config --local user.email "cuongmkmtpgoldfinch@gmail.com"

# Kiá»ƒm tra láº¡i config Ä‘Ã£ Ä‘Ãºng chÆ°a

git config --local --list


# Set local repository configuration
git config --local user.name "Doan Ngoc Cuong"
git config --local user.email "cuongmkmtpgoldfinch@gmail.com"

# Set global configuration (for all repositories)
git config --global user.name "Doan Ngoc Cuong"
git config --global user.email "cuongmkmtpgoldfinch@gmail.com"

# Verify your configurations
# Check local config
git config --local --list

# Check global config
git config --global --list
```

## 2.2 Khi gáº·p 1 sá»‘ lá»—i lÃºc Ä‘áº©y lÃªn - xÃ i Personal Access Token tá»« Github Ä‘á»ƒ push Ä‘Ãºng lÃªn: Ah, tÃ´i hiá»ƒu rá»“i! Váº¥n Ä‘á» lÃ  máº·c dÃ¹ báº¡n Ä‘ang push vá»›i credentials cá»§a tÃ i khoáº£n GitHub DoanNgocCuong, nhÆ°ng thÃ´ng tin commit váº«n Ä‘ang dÃ¹ng tÃªn vÃ  email cá»§a HÃ¹ng (tá»« git config).


## **TÃ³m táº¯t lá»—i, nguyÃªn nhÃ¢n, vÃ  cÃ¡ch fix lá»—i khi push lÃªn GitHub**

---

### **Váº¥n Ä‘á»/Bug**

- Khi push code lÃªn GitHub báº¡n gáº·p lá»—i:
    ```
    remote: Invalid username or password.
    fatal: Authentication failed for 'https://github.com/DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025/'
    ```
- Hoáº·c:
    ```
    ERROR: Permission to DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git denied to thanhdt24.
    fatal: Could not read from remote repository.
    Please make sure you have the correct access rights
    and the repository exists
    ```

---

### **NguyÃªn nhÃ¢n**

- **GitHub Ä‘Ã£ ngá»«ng há»— trá»£ username/password cho HTTPS**: Báº¡n pháº£i dÃ¹ng Personal Access Token (PAT) hoáº·c SSH Key.
- **Sai quyá»n truy cáº­p**: Náº¿u báº¡n push báº±ng user khÃ´ng cÃ³ quyá»n (vÃ­ dá»¥ `thanhdt24`), báº¡n sáº½ bá»‹ tá»« chá»‘i truy cáº­p repository cá»§a `DoanNgocCuong`.
- **Sai cáº¥u hÃ¬nh remote**: Náº¿u remote khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng hoáº·c khÃ´ng Ä‘Ãºng tÃ i khoáº£n, cÅ©ng sáº½ bá»‹ tá»« chá»‘i.

---

### **HÆ°á»›ng dáº«n Fix Lá»—i**

#### **STEP 1. Äáº£m báº£o quyá»n truy cáº­p Ä‘Ãºng tÃ i khoáº£n**

- Báº¡n pháº£i cÃ³ quyá»n push lÃªn repo Ä‘Ã³ (repo thuá»™c user/tá»• chá»©c cá»§a báº¡n).

#### **STEP 2. Cáº¥u hÃ¬nh láº¡i remote**

**A. Náº¿u dÃ¹ng HTTPS + Personal Access Token (PAT):**

1. Táº¡o Personal Access Token trÃªn GitHub ([hÆ°á»›ng dáº«n chi tiáº¿t](https://github.com/settings/tokens)).
2. Äá»•i remote:
    ```bash
    git remote set-url origin https://DoanNgocCuong:YOUR_TOKEN_HERE@github.com/DoanNgocCuong/MiniProd_Web8_AutoPromptingTuning_T2_2025.git
    ```
    hoáº·c:
    ```bash
    git remote set-url origin https://DoanNgocCuong:YOUR_TOKEN_HERE@github.com/DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git
    ```
    **LÆ°u Ã½:** Thay `YOUR_TOKEN_HERE` báº±ng token thá»±c cá»§a báº¡n.

3. Push láº¡i:
    ```bash
    git push origin main
    ```

**B. Náº¿u dÃ¹ng SSH key (khuyÃªn dÃ¹ng):**

1. Äáº£m báº£o báº¡n Ä‘Ã£ táº¡o vÃ  add SSH key lÃªn GitHub ([hÆ°á»›ng dáº«n chi tiáº¿t](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account)).
2. Äá»•i remote vá» SSH:

```bash
Â  Â git clone git@github.com:DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024.git
```

    ```bash
    git remote set-url origin git@github.com:DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git
    ```
    Náº¿u báº¡n dÃ¹ng nhiá»u tÃ i khoáº£n GitHub hoáº·c cáº¥u hÃ¬nh nhiá»u host, báº¡n cÃ³ thá»ƒ gáº·p bug sau : 
```bash
    ERROR: Permission to DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git denied to thanhdt24.fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists
```
=> Fix báº±ng cÃ¡ch Ä‘á»ƒ dáº¡ng remote lÃ :

```
git remote set-url origin git@github.com-doanngoccuong:DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git
```

(Chá»‰ dÃ¹ng náº¿u báº¡n Ä‘Ã£ cáº¥u hÃ¬nh `~/.ssh/config` cho nhiá»u host.)

3. Push láº¡i:
    ```bash
    git push
    ```

---

### **TÃ³m táº¯t cÃ¡c bÆ°á»›c fix**

```bash
# (1) Náº¿u dÃ¹ng HTTPS + PAT:
git remote set-url origin https://DoanNgocCuong:YOUR_TOKEN_HERE@github.com/DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git
git push

# (2) Náº¿u dÃ¹ng SSH:
git remote set-url origin git@github.com:DoanNgocCuong/MiniProd_Agent2_WorkflowAgents_T5_2025.git
git push

git remote set-url origin git@github.com-doanngoccuong:Hngdcmnh/tool_su_table_to_json.git
```

---

### **LÆ°u Ã½:**
- **KhÃ´ng chia sáº» token cÃ¡ nhÃ¢n cho ngÆ°á»i khÃ¡c.** Náº¿u lá»¡ Ä‘á»ƒ lá»™, hÃ£y vÃ o GitHub Ä‘á»ƒ revoke token Ä‘Ã³.
- Náº¿u dÃ¹ng SSH, hÃ£y Ä‘áº£m báº£o SSH key Ä‘Ã£ add lÃªn GitHub vÃ  mÃ¡y báº¡n Ä‘ang dÃ¹ng Ä‘Ãºng key.
- Náº¿u push bá»‹ lá»—i permission vá»›i username khÃ¡c (`thanhdt24`), hÃ£y kiá»ƒm tra láº¡i quyá»n truy cáº­p GitHub hoáº·c cáº¥u hÃ¬nh SSH/HTTPS Ä‘Ãºng user.

---


---


# Other - chÆ°a check ká»¹ 

Äá»ƒ Ä‘Äƒng nháº­p vÃ o GitLab qua command line, báº¡n cÃ³ thá»ƒ lÃ m theo cÃ¡c bÆ°á»›c sau:

1. Äáº§u tiÃªn, táº¡o Personal Access Token trÃªn GitLab:
   - ÄÄƒng nháº­p vÃ o tÃ i khoáº£n GitLab cá»§a báº¡n qua web browser
   - VÃ o Settings -> Access Tokens (hoáº·c vÃ o Ä‘Æ°á»ng dáº«n: https://gitlab.com/-/profile/personal_access_tokens)
   - Táº¡o má»™t token má»›i vá»›i quyá»n `read_repository` vÃ  `write_repository`
   - LÆ°u láº¡i token Ä‘Æ°á»£c táº¡o ra
```
git clone https://oauth2:YOUR_NEW_TOKEN@gitlab.com/DoanNgocCuong/robot-ai-workflow-doan-ngoc-cuong
```


---

# Xá»­ lÃ½ lá»—i 

TÃ´i tháº¥y remote URL cá»§a báº¡n Ä‘ang dÃ¹ng HTTPS:
```
origin  https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024
```

Äá»ƒ sá»­a lá»—i push, hÃ£y Ä‘á»•i sang dÃ¹ng SSH URL:

```bash
git remote set-url origin git@github.com:DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024.git
```

Sau Ä‘Ã³ kiá»ƒm tra láº¡i báº±ng lá»‡nh:
```bash
git remote -v
```

URL má»›i sáº½ báº¯t Ä‘áº§u báº±ng `git@github.com:` thay vÃ¬ `https://`

BÃ¢y giá» báº¡n cÃ³ thá»ƒ push code mÃ  khÃ´ng cáº§n nháº­p username/password ná»¯a vÃ¬ Ä‘Ã£ xÃ¡c thá»±c qua SSH key.

Báº¡n muá»‘n tÃ´i giáº£i thÃ­ch thÃªm vá» sá»± khÃ¡c biá»‡t giá»¯a HTTPS vÃ  SSH khÃ´ng?



---






**Láº§n 1 estimate xong trong 2h, nhÆ°ng 6h má»›i xong (2h gen, 4h sá»­a+code update luá»“ng)**

|   |   |   |   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|---|---|---|
||Sá»‘ situations  <br>(má»—i situation gá»“m 5 scenarios, má»—i senario 1 lÃºc gen 8 audios)|Sá»‘ workers|Time tá»•ng|Time trung bÃ¬nh|Sá»‘ audios bá»‹ lá»—i  <br>---  <br>=IF(ISNUMBER(SEARCH("NULL",Q2)),0,1)|Sá»‘ Situation bá»‹ lá»—i Lesson Detail bá»‹ lá»—i (Bá»‹ thiáº¿u 1/5-6 scenario)  <br>  <br>=COUNTIF(A:A, B2) > 0|Sá»‘ Situations bá»‹ lá»—i  <br>---  <br>"status": "error"|Tá»•ng situations bá»‹ lá»—i|Sá»‘ Lesson Detail bá»‹ lá»—i|NguyÃªn nhÃ¢n lá»—i|
|Láº§n 1|74|20|5.3 min|4.3 s/item|1|0||75|||
|Láº§n 2|244|40|9.4 min|2.3 s/item|205|2 (8585, 9659)|||2 cases kháº£ nÄƒng cao do giá»›i háº¡n OpenAI|
|Láº§n 3|217|40|10.1 min|2.8 s/item|233|5 (10054, 10058, 10072, 10094, 13292)|||- 1 case cá»¥m cáº¥u trÃºc khÃ´ng cÃ³ ___  <br>- 4 cases kháº£ nÄƒng cao do giá»›i háº¡n OpenAI|
|Sum Äá»£t 1|535||||||||||
|Láº§n 4 (non work)|708|10|86.7|7.3s/item|12|5|0||||

  

|   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|
|Lá»ŒC + GEN Situations cÃ³ Audio bá»‹ lá»—i (75 situations)|   |   |   |=> Code gen nhanh dá»±a vÃ o 1 list _situation_id_____|   |   ||
|Merge situations lá»—i vÃ o chung|   |   |   |=> Code thÃªm pháº§n Ä‘á»ƒ merge nhanh pháº§n SITUATIONS GEN Má»šI thay tháº¿ cho Situatons cÅ©|   |   ||
|Gen Situations bá»‹ thiáº¿u (maybe do giá»›i háº¡n OpenAI)|   |   |   ||   |   |code sau náº¿u cÃ³ time|

|   |   |   |   |   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|---|---|---|---|
||||1 Situations = 5 scenario * 8 audios|20 Situation|100 Situations|700 Situations|10K Situations|1 Job Roles = 10 Topics Ã— 5 Situations = 50 situations|10 Job Roles = 500 Stuations|300 Collections Ã— 10 Topics Ã— 5 Situations = **15,000 Situations**|
|1. Dá»± kiáº¿n gen: 20 luá»“ng 1 lÃºc => Lá»—i situations dá»± kiáº¿n = 1%|   |   |1.5min|1.5min|7.5min|Thá»i gian cháº¡y 10 worker = 86.7min, 20 worker = 43min.|750min ~ 12-13h|3.6min|36min ~ 40min|36min * 30 = 15h~18h < 24h|
|0. Láº¥y káº¿t quáº£ tá»« trÃªn server xuá»‘ng mÃ¡y vÃ  ghi log time + MÃY LAG VÃŒ NHIá»€U DÃ’NG QUÃ|   |   ||||15min qua github|||||
|2.  <br>Lá»c cÃ¡c pháº§n lá»—i:  <br>+, Lá»c Audio bá»‹ lá»—i (do giá»›i háº¡n API Audio)  <br>+, Lá»c Scenario bá»‹ lá»—i (giá»›i háº¡n API OpenAI)|   |   |LÃ m tay 10 min|LÃ m tay 11 min|LÃ m tay 12 min|15min(Drive lÃ¢u)+25min(sau chuyá»ƒn xuá»‘ng local - excel nhanh)|LÃ m tay 20 min|LÃ m tay 14 min|LÃ m tay 15 min|LÃ m tay 20 min|
|3. Gen láº¡i pháº§n bá»‹ lá»—i:  <br>+, Check xem cÃ²n bá»‹ thiáº¿u khÃ´ng  <br>+, Merge pháº§n bá»‹ lá»—i vÃ o pháº§n gá»‘c (Ä‘Ã£ oke) Thá»i gian Ä‘á»ƒ gen láº¡i 1% Lá»—i:|   |   |30min|31min|32min|40min|1% lá»—i gen láº¡i =1h|2h|35min|1% lá»—i gen láº¡i = 1.5h-2h|
|Dá»° TRÃ™|   |   |||||5H|2h|35min|8H|
|Sum|   |   |||SUM|43min gen + 1h rÆ°á»¡i (xá»­ lÃ½ vÃ  gen bá»• sung)|15h-20H|2h|35min|20h-30H|

  

  

```Plain
nohup python main.py --start_situation 1000000001 --end_situation 1000000956 --input_file "29082025_GenMass_non_work_v2.xlsx" --max_workers 20 --batch_size 1 > situation_1000000001_1000000956.log 2> err_situation_1000000001_1000000956.log &

```

```JSON
{"status": "error", "text": "HTTPConnectionPool(host='103.253.20.30', port=3000): Max retries exceeded with url: /api/generate-learning-onion (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x00000221CA415CD0>, 'Connection to 103.253.20.30 timed out. (connect timeout=None)'))", "__request_payload__": {"inputForOnion": {"user_profile": "Full-stack Developer", "lesson": {"topic": "PHá»I Há»¢P TÃCH Há»¢P Vá»šI TEAM QA", "scenarios": [{"scenario": "CÃ³ má»™t lá»—i láº¡ chá»‰ xáº£y ra trÃªn mÃ´i trÆ°á»ng Production. Báº¡n cáº§n nhá» DevOps truy cáº­p server Ä‘á»ƒ láº¥y log giÃºp báº¡n phÃ¢n tÃ­ch.", "questions": ["What can I help you with?"]}, {"scenario": "CÃ³ má»™t lá»—i láº¡ chá»‰ xáº£y ra trÃªn mÃ´i trÆ°á»ng Production. Báº¡n cáº§n nhá» DevOps truy cáº­p server Ä‘á»ƒ láº¥y log giÃºp báº¡n phÃ¢n tÃ­ch.", "questions": ["Why do you need them?"]}, {"scenario": "CÃ³ má»™t lá»—i láº¡ chá»‰ xáº£y ra trÃªn mÃ´i trÆ°á»ng Production. Báº¡n cáº§n nhá» DevOps truy cáº­p server Ä‘á»ƒ láº¥y log giÃºp báº¡n phÃ¢n tÃ­ch.", "questions": ["What is the timeframe for the logs?"]}, {"scenario": "CÃ³ má»™t lá»—i láº¡ chá»‰ xáº£y ra trÃªn mÃ´i trÆ°á»ng Production. Báº¡n cáº§n nhá» DevOps truy cáº­p server Ä‘á»ƒ láº¥y log giÃºp báº¡n phÃ¢n tÃ­ch.", "questions": ["Do you know the specific service or container name?"]}]}}}, "internal_index": 7}
```

  

```Bash
Set-Location "D:\GIT\MiniProd_Web4_ContentEngFlow_StepUpE_T102024\1000Nghe_copyFrom_LS_ai_automation\utils_genLessonDetail1000Nghe_22082025_v2"
$env:PYTHONUTF8='1'; $env:PYTHONIOENCODING='utf-8'
$ids = @"
1000000010
1000000019
1000000055
1000000258
1000000286
1000000395
1000000410
1000000437
1000000541
1000000592
1000000638
1000000642
1000000704
1000000771
1000000825
1000000924
1000000955
"@
python .\main_run_specific_ids_parallel_and_merge.py --input_file "29082025_GenMass_non_work_v2.xlsx" --ids $ids --pool_workers 10 --per_run_max_workers 1 --output_prefix "output_pipeline_results" --merged_output "merged_all_1000000010.xlsx" --continue_on_error
```

  

**Report time gen non-work : sá»‘ chÃ­nh xÃ¡c - 708 situations:** +, time gen: 86min (10 workers do Ä‘Ãªm nÃªn em gen thong tháº£) (20 worker nhÆ° chiá»u qua thÃ¬ 43min) +, Time xá»­ lÃ½ phÃ­a sau: 1h rÆ°á»¡i = láº¥y code tá»« serve => check audio -scenario - error => Gen láº¡i => Check pháº§n gen láº¡i ouput 2 => merge output3 => Äáº©y lÃªn Drive cho a TrÃºc = 1h rÆ°á»¡i. ---

=> Check update.

1. Láº¥y code tá»« server => Kaizen: ÄÃ“NG GÃ“I Má»ŒI Lá»†NH
    

```Plain
git commit -m "[GEN MASS NON WORK - RESULTS - => Láº§n 4 (non work)708 situations - 10 worker - time 86.7

ğŸ“Œ Filtered to 708 situations (range: 1000000001 - 11000000001)

ğŸš€ Báº¯t Ä‘áº§u cháº¡y pipeline cho 708 situations...
ğŸ§µ Parallel Processing Mode:
   Max Workers: 10
   Batch Size: 1
ğŸš€ Parallel Processing Setup:
   ğŸ“Š Total items: 708
   ğŸ“¦ Batch size: 1
   ï¿½ï¿½ Max workers: 10
   ğŸ“‹ Total batches: 708
   ğŸ’¾ Memory limit: 1024MB
   ğŸ”§ Adaptive mode: âœ…

ğŸ‰ Parallel Processing Complete!
   â±ï¸  Total time: 86.7 minutes
   ğŸ“Š Success rate: 100.0%
   âŒ Errors: 0
   ğŸ”„ Retries: 0
   ğŸ’¾ Peak memory: 242.1MB
   ğŸš€ Throughput: 0.14 items/second
âœ… Pipeline xong, Ä‘Ã£ export ra output_pipeline_results_20250829_024730.xlsx
"

git stash
git pull 
git pop stash

---
```

|   |   |   |
|---|---|---|
|Sá»‘ audios bá»‹ lá»—i  <br>---  <br>=IF(ISNUMBER(SEARCH("NULL",Q2)),0,1)|Sá»‘ Situation bá»‹ lá»—i Lesson Detail bá»‹ lá»—i (Bá»‹ thiáº¿u 1/5-6 scenario)  <br>  <br>=COUNTIF(A:A, B2) > 0|Sá»‘ Situations bá»‹ lá»—i  <br>---  <br>"status": "error"|
|code retry audio - done|code retry openAI - done|ChÆ°a|