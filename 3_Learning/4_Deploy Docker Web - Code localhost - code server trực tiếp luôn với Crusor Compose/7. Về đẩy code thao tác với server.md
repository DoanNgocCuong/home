# 1. Connect Pull Code xu·ªëng Server

## 1.1 **T√≥m t·∫Øt c√°ch k·∫øt n·ªëi GitHub c√° nh√¢n v·ªõi server c√¥ng ty ƒë·ªÉ clone repo tr·ª±c ti·∫øp** üöÄ

1. **Ki·ªÉm tra SSH key tr√™n server**
    
    ```bash
    ls -al ~/.ssh
    ```

```
¬± ls -al ~/.ssh2-3090:~/cuong_dn/MiniProd_Web4_ContentEngFlow_StepUpE_T102024]‚îî4 main 
total 52
drwx------  2 ubuntu ubuntu  4096 May  5 09:25 .
drwxr-xr-x 17 ubuntu ubuntu  4096 May  5 09:31 ..
-rw-rw-r--  1 ubuntu ubuntu 11250 Apr 21 08:32 authorized_keys
-rw-rw-r--  1 ubuntu ubuntu   309 May  5 09:25 config
-rw-------  1 ubuntu ubuntu  1675 Apr 22 11:33 id_rsa
-rw-r--r--  1 ubuntu ubuntu   402 Apr 22 11:33 id_rsa.pub
-rw-------  1 ubuntu ubuntu  3243 May  5 09:28 id_rsa_doanngoccuong
-rw-r--r--  1 ubuntu ubuntu   756 May  5 09:28 id_rsa_doanngoccuong.pub
-rw-------  1 ubuntu ubuntu  3243 May  5 09:07 id_rsa_newgithub
-rw-r--r--  1 ubuntu ubuntu   756 May  5 09:07 id_rsa_newgithub.pub
-rw-r--r--  1 ubuntu ubuntu  1110 Apr 25 03:58 known_hosts
¬± \buntu@mgc-dev2-3090:~/cuong_dn/MiniProd_Web4_ContentEngFlow_StepUpE_T102024]‚îî4 main 
```

- N·∫øu ƒë√£ c√≥ `id_rsa` v√† `id_rsa.pub`, ti·∫øp t·ª•c b∆∞·ªõc 3.
- N·∫øu ch∆∞a c√≥, t·∫°o SSH key m·ªõi:

```
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"
```
        
2. **L·∫•y SSH Public Key**
    
    ```bash
    cat ~/.ssh/id_rsa.pub
    ```
    
    - Sao ch√©p to√†n b·ªô n·ªôi dung public key.
3. **Th√™m SSH Key v√†o GitHub**
    
    - Truy c·∫≠p [GitHub SSH Keys](https://github.com/settings/keys).
    - Ch·ªçn **New SSH Key** ‚Üí D√°n n·ªôi dung key ‚Üí **Add SSH Key**.
4. **Ki·ªÉm tra k·∫øt n·ªëi v·ªõi GitHub**
    
    ```bash
    ssh -T git@github.com
    ```
    
    - N·∫øu hi·ªÉn th·ªã:
        
        ```
        Hi your-username! You've successfully authenticated, but GitHub does not provide shell access.
        ```
        
        ‚Üí K·∫øt n·ªëi th√†nh c√¥ng.
5. **Clone repo v·ªÅ server**
    
    ```bash
    git clone git@github.com:your-username/your-repo.git
    ```
    
    - Thay `your-username` b·∫±ng GitHub username c·ªßa b·∫°n.
    - Thay `your-repo` b·∫±ng t√™n repo c·∫ßn clone.

üìå **Ghi ch√∫:** N·∫øu g·∫∑p l·ªói `Permission denied (publickey)`, ch·∫°y:

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa
```


---
## 1.2 B·∫°n mu·ªën th√™m m·ªôt t√†i kho·∫£n GitHub m·ªõi v√†o m√°y n√†y. D∆∞·ªõi ƒë√¢y l√† c√°c b∆∞·ªõc ƒë∆°n gi·∫£n ƒë·ªÉ th√™m m·ªôt t√†i kho·∫£n GitHub m·ªõi:

### 1. T·∫°o SSH key m·ªõi cho t√†i kho·∫£n GitHub m·ªõi

```bash
ssh-keygen -t rsa -b 4096 -C "email_cua_ban@github.com"
```
- Khi ƒë∆∞·ª£c h·ªèi n∆°i l∆∞u file, b·∫°n n√™n ƒë·∫∑t t√™n kh√°c, v√≠ d·ª•: `~/.ssh/id_rsa_newgithub`
`~/.ssh/id_rsa_doanngoccuong`
- ƒê·∫∑t passphrase n·∫øu mu·ªën (ho·∫∑c ƒë·ªÉ tr·ªëng).

### 2. Th√™m SSH key m·ªõi v√†o ssh-agent

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa_newgithub
ssh-add ~/.ssh/id_rsa_doanngoccuong

```

```
[ubuntu@mgc-dev2-3090:~/cuong_dn]‚îî4 $ eval "$(ssh-agent -s)"
Agent pid 2967
```
### 3. Th√™m public key v√†o GitHub m·ªõi

- L·∫•y n·ªôi dung public key:
  ```bash
  cat ~/.ssh/id_rsa_newgithub.pub
- cat ~/.ssh/id_rsa_doanngoccuong.pub
  ```
***- Copy n·ªôi dung n√†y, v√†o GitHub m·ªõi ‚Üí Settings ‚Üí SSH and GPG keys ‚Üí New SSH key ‚Üí D√°n v√†o.***

### Ki·ªÉm tra xem ƒë√£ th√™m ƒë∆∞·ª£c ssh server v√†o github ch∆∞a 

```
[ubuntu@mgc-dev2-3090:~/cuong_dn]‚îî4 $ ssh -T git@github.com
Hi thanhdt24! You've successfully authenticated, but GitHub does not provide shell access.
```

B·∫°n ƒë√£ l√†m ƒë√∫ng c√°c b∆∞·ªõc t·∫°o SSH key m·ªõi v√† th√™m v√†o t√†i kho·∫£n GitHub m·ªõi. Tuy nhi√™n, khi ki·ªÉm tra v·∫´n ra ‚Äúthanhdt24‚Äù.  
ƒêi·ªÅu n√†y th∆∞·ªùng do Git ƒëang d√πng SSH key c≈© (c·ªßa thanhdt24) thay v√¨ key m·ªõi (c·ªßa DoanNgocCuong).

**B·∫°n c·∫ßn l√†m th√™m 1 b∆∞·ªõc n·ªØa:**  
C·∫•u h√¨nh file `~/.ssh/config` ƒë·ªÉ ch·ªâ ƒë·ªãnh ƒë√∫ng SSH key cho t√†i kho·∫£n GitHub c·ªßa b·∫°n.

---
### Ki·ªÉm tra l·∫°i SSH:

```bash
ssh -T git@github.com-doanngoccuong
```
N·∫øu ƒë√∫ng, s·∫Ω hi·ªán:
```
[ubuntu@mgc-dev2-3090:~/cuong_dn]‚îî4 $ ssh -T git@github.com-doanngoccuong
Hi DoanNgocCuong! You've successfully authenticated, but GitHub does not provide shell access.
[ubuntu@mgc-dev2-3090:~/cuong_dn]‚îî4 $ 
```

---

### V√≠ d·ª• c·∫•u h√¨nh file `~/.ssh/config`:

M·ªü file (t·∫°o m·ªõi n·∫øu ch∆∞a c√≥):
```bash
nano ~/.ssh/config
```

Th√™m v√†o:
```
# Key cho t√†i kho·∫£n DoanNgocCuong
Host github.com-doanngoccuong
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_doanngoccuong

# Key cho t√†i kho·∫£n thanhdt24 (n·∫øu v·∫´n d√πng)
Host github.com-thanhdt24
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_thanhdt24
```

---
## 1.3 Bug khi Clone 1 Private Repo: 

```
[ubuntu@mgc-dev2-3090:~/cuong_dn]‚îî4 $ git clone https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024
Cloning into 'MiniProd_Web4_ContentEngFlow_StepUpE_T102024'...
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024/'
```


B·∫°n ƒë√£ x√°c th·ª±c SSH th√†nh c√¥ng v·ªõi t√†i kho·∫£n DoanNgocCuong:

```
Hi DoanNgocCuong! You've successfully authenticated, but GitHub does not provide shell access.
```

Nh∆∞ng khi clone b·∫±ng HTTPS, b·∫°n v·∫´n b·ªã l·ªói:
```
remote: Invalid username or password.
fatal: Authentication failed for 'https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024/'
```

**Nguy√™n nh√¢n:**  
- B·∫°n ƒëang d√πng HTTPS ƒë·ªÉ clone, nh∆∞ng GitHub kh√¥ng cho d√πng username/password th√¥ng th∆∞·ªùng n·ªØa. N·∫øu kh√¥ng nh·∫≠p Personal Access Token (PAT), s·∫Ω b·ªã l·ªói n√†y.
- B·∫°n ƒë√£ c·∫•u h√¨nh SSH ƒë√∫ng, n√™n h√£y d√πng SSH ƒë·ªÉ clone.

C√°ch s·ª≠a l·ªói

**1. Clone b·∫±ng SSH (kh√¥ng d√πng HTTPS):**

D√πng l·ªánh n√†y:
```bash
git clone git@github.com:DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024.git
```
Ho·∫∑c n·∫øu b·∫°n ƒë√£ c·∫•u h√¨nh Host trong `~/.ssh/config` l√† `github.com-doanngoccuong`, d√πng:
```bash
git clone git@github.com-doanngoccuong:DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024.git
```

**2. Kh√¥ng d√πng HTTPS n·ªØa**  
Ch·ªâ d√πng HTTPS khi b·∫°n c√≥ Personal Access Token (PAT) v√† nh·∫≠p v√†o khi ƒë∆∞·ª£c h·ªèi m·∫≠t kh·∫©u.



---





# 2. ƒê·∫©y code l√™n: 

## 2.1. Set t√™n v√† email cho repository hi·ªán t·∫°i

```
# Set t√™n v√† email c·ªßa b·∫°n cho repository hi·ªán t·∫°i

git config --local user.name "Doan Ngoc Cuong"

git config --local user.email "cuongmkmtpgoldfinch@gmail.com"

# Ki·ªÉm tra l·∫°i config ƒë√£ ƒë√∫ng ch∆∞a

git config --local --list


# Set local repository configuration
git config --local user.name "Doan Ngoc Cuong"
git config --local user.email "cuongmkmtpgoldfinch@gmail.com"

# Set global configuration (for all repositories)
git config --global user.name "Doan Ngoc Cuong"
git config --global user.email "cuongmkmtpgoldfinch@gmail.com"

# Verify your configurations
# Check local config
git config --local --list

# Check global config
git config --global --list
```

## 2.2 Khi g·∫∑p 1 s·ªë l·ªói l√∫c ƒë·∫©y l√™n - x√†i Personal Access Token t·ª´ Github ƒë·ªÉ push ƒë√∫ng l√™n: Ah, t√¥i hi·ªÉu r·ªìi! V·∫•n ƒë·ªÅ l√† m·∫∑c d√π b·∫°n ƒëang push v·ªõi credentials c·ªßa t√†i kho·∫£n GitHub DoanNgocCuong, nh∆∞ng th√¥ng tin commit v·∫´n ƒëang d√πng t√™n v√† email c·ªßa H√πng (t·ª´ git config).


 
```
git remote set-url origin https://DoanNgocCuong:ghp_...@github.com/DoanNgocCuong/MiniProd_Web8_AutoPromptingTuning_T2_2025.git
```

**T√≥m t·∫Øt c√°c b∆∞·ªõc l·∫•y Personal Access Token t·ª´ GitHub:**

7. **ƒêƒÉng nh·∫≠p v√† v√†o Settings**:
    
    - ƒêƒÉng nh·∫≠p GitHub, click v√†o ·∫£nh profile v√† ch·ªçn **Settings**.
8. **Truy c·∫≠p Developer Settings & T·∫°o Token**:
    
    - Cu·ªôn xu·ªëng d∆∞·ªõi c√πng b√™n tr√°i, ch·ªçn **Developer settings**.
    - V√†o **Personal access tokens** > **Tokens (classic)** v√† click **Generate new token (classic)**.
9. **C·∫•u h√¨nh Token**:
    
    - ƒêi·ªÅn t√™n (Note), ch·ªçn th·ªùi h·∫°n (Expiration) v√† b·∫≠t quy·ªÅn **repo**.
    - Click **Generate token**.
10. **L∆∞u v√† S·ª≠ d·ª•ng Token**:
    
    - **Copy token ngay** v√¨ b·∫°n s·∫Ω kh√¥ng th·ªÉ xem l·∫°i sau n√†y.
    - Thay token v·ª´a copy v√†o URL remote c·ªßa Git:
        
        ```bash
        git remote set-url origin https://DoanNgocCuong:YOUR_TOKEN_HERE@github.com/DoanNgocCuong/MiniProd_Web8_AutoPromptingTuning_T2_2025.git
        ```
        
11. **Push Code**:
    
    - Th·ª≠ push l·∫°i code v·ªõi:
        
        ```bash
        git push origin main
        ```
        

**L∆∞u √Ω:** B·∫£o v·ªá token c·ªßa b·∫°n, kh√¥ng chia s·∫ª cho ng∆∞·ªùi kh√°c.

---




# Other - ch∆∞a check k·ªπ 

ƒê·ªÉ ƒëƒÉng nh·∫≠p v√†o GitLab qua command line, b·∫°n c√≥ th·ªÉ l√†m theo c√°c b∆∞·ªõc sau:

1. ƒê·∫ßu ti√™n, t·∫°o Personal Access Token tr√™n GitLab:
   - ƒêƒÉng nh·∫≠p v√†o t√†i kho·∫£n GitLab c·ªßa b·∫°n qua web browser
   - V√†o Settings -> Access Tokens (ho·∫∑c v√†o ƒë∆∞·ªùng d·∫´n: https://gitlab.com/-/profile/personal_access_tokens)
   - T·∫°o m·ªôt token m·ªõi v·ªõi quy·ªÅn `read_repository` v√† `write_repository`
   - L∆∞u l·∫°i token ƒë∆∞·ª£c t·∫°o ra
```
git clone https://oauth2:YOUR_NEW_TOKEN@gitlab.com/DoanNgocCuong/robot-ai-workflow-doan-ngoc-cuong
```


---

# X·ª≠ l√Ω l·ªói 

T√¥i th·∫•y remote URL c·ªßa b·∫°n ƒëang d√πng HTTPS:
```
origin  https://github.com/DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024
```

ƒê·ªÉ s·ª≠a l·ªói push, h√£y ƒë·ªïi sang d√πng SSH URL:

```bash
git remote set-url origin git@github.com:DoanNgocCuong/MiniProd_Web4_ContentEngFlow_StepUpE_T102024.git
```

Sau ƒë√≥ ki·ªÉm tra l·∫°i b·∫±ng l·ªánh:
```bash
git remote -v
```

URL m·ªõi s·∫Ω b·∫Øt ƒë·∫ßu b·∫±ng `git@github.com:` thay v√¨ `https://`

B√¢y gi·ªù b·∫°n c√≥ th·ªÉ push code m√† kh√¥ng c·∫ßn nh·∫≠p username/password n·ªØa v√¨ ƒë√£ x√°c th·ª±c qua SSH key.

B·∫°n mu·ªën t√¥i gi·∫£i th√≠ch th√™m v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa HTTPS v√† SSH kh√¥ng?



---

