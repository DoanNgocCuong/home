

![[Pasted image 20241106122454.png]]


---


Ok ğŸ‘. DÆ°á»›i Ä‘Ã¢y lÃ  **toÃ n bá»™ file Git Cheat Sheet** báº¡n Ä‘Ã£ gá»­i, mÃ¬nh Ä‘Ã£ gom láº¡i thÃ nh má»™t khá»‘i hoÃ n chá»‰nh, sáº¯p xáº¿p **tá»« dá»… â†’ khÃ³**, nhÆ°ng giá»¯ **nguyÃªn váº¹n toÃ n bá»™ text, comment, kÃ½ tá»±, cáº¥u trÃºc code block**:

---

# ğŸ“˜ Git Cheat Sheet (29/09/2025) â€” Sáº¯p xáº¿p tá»« dá»… Ä‘áº¿n khÃ³

---

## 1. Cáº¥t táº¡m file (stash)

```bash
git stash -u 
# Hoáº·c viáº¿t Ä‘áº§y Ä‘á»§ 
git stash --include-untracked
```

---

## 2. Git Pull

### 2.1 Commit hoáº·c stash code local trÆ°á»›c khi pull

- **Commit**:
    

```bash
git add .
git commit -m "Save local changes"
git pull
```

â†’ LÆ°u láº¡i cÃ´ng viá»‡c hiá»‡n táº¡i, sau Ä‘Ã³ pull vá». Náº¿u cÃ³ xung Ä‘á»™t thÃ¬ git sáº½ yÃªu cáº§u merge.

- **Stash** (náº¿u chÆ°a muá»‘n commit):
    

```bash
git stash
git pull
git stash pop
```

â†’ LÆ°u táº¡m thay Ä‘á»•i vÃ o stash, pull xong thÃ¬ láº¥y ra.

---

## 3. CÃ¡c lá»‡nh quay láº¡i / reset commit

- Quay láº¡i commit trÆ°á»›c Ä‘Ã³:
    

```bash
git reset --hard fff1206
```

- **Quay láº¡i commit gáº§n nháº¥t (giá»¯ hoáº·c xÃ³a thay Ä‘á»•i):**
    

```bash
git reset --soft HEAD^   # Gá»¡ commit gáº§n nháº¥t nhÆ°ng giá»¯ láº¡i thay Ä‘á»•i (soft reset)
git reset --hard fff1206 # Gá»¡ commit gáº§n nháº¥t vÃ  loáº¡i bá» luÃ´n thay Ä‘á»•i (hard reset)
```

- `git reset --soft HEAD~1`: gá»¡ commit nhÆ°ng giá»¯ thay Ä‘á»•i
    
- `git reset --hard HEAD`: xÃ³a thay Ä‘á»•i local, quay láº¡i commit gáº§n nháº¥t
    
- `git revert`: táº¡o commit má»›i Ä‘áº£o ngÆ°á»£c commit cÅ©
    

**KhÃ¡c nhau reset vs revert (vÃ­ dá»¥ Aâ†’Bâ†’Câ†’D):**

- `git reset --hard <commit>` â†’ quay vá» Aâ†’B (cáº§n force push)
    
- `git revert` â†’ Aâ†’Bâ†’Câ†’Dâ†’Bâ€™ (giá»¯ lá»‹ch sá»­)
    

```bash
git reset --hard HEAD
git push --force
```

---

## 4. Git Config

- Cho phÃ©p Ä‘Æ°á»ng dáº«n dÃ i (Windows):
    

```bash
git config --system core.longpaths true
```

---

## 5. Origin, Main, Master lÃ  gÃ¬?

- **`origin`**: Remote repository máº·c Ä‘á»‹nh.
    
- **`main`**: NhÃ¡nh chÃ­nh máº·c Ä‘á»‹nh (hiá»‡n Ä‘áº¡i).
    
- **`master`**: NhÃ¡nh chÃ­nh máº·c Ä‘á»‹nh trÆ°á»›c Ä‘Ã¢y (Ä‘ang dáº§n thay báº±ng `main`).
    

CÃ¡c lá»‡nh thÆ°á»ng gáº·p vá»›i `origin`:

- `git fetch origin`
    
- `git push origin main`
    

---

## 6. ÄÃ¡nh dáº¥u phiÃªn báº£n (Tag)

VÃ­ dá»¥: demo, deploy 1.1, â€¦

```bash
git tag -a v1_AutoQC_fromVisualizeLessonRobot_ -m "AutoQC System - Visualize Lesson Robot Integration ..."
git push origin v1_AutoQC_fromVisualizeLessonRobot
```

---

## 7. Xá»­ lÃ½ xung Ä‘á»™t trong VS Code

- Dáº¥u hiá»‡u: `<<<<<<<`, `=======`, `>>>>>>>`.
    
- Options:
    
    - Accept Current Change
        
    - Accept Incoming Change
        
    - Accept Both Changes
        
    - Compare Changes
        

---

## 8. XÃ³a nhÃ¡nh local Ä‘Ã£ máº¥t trÃªn remote

### Windows (PowerShell)

```powershell
git branch -vv | Select-String ': gone]'
git branch -vv | ForEach-Object {
    if ($_ -match ': gone]') {
        $branch = ($_ -split '\s+')[1]
        git branch -D $branch
    }
}
```

### Linux / WSL

```bash
git branch -vv | grep ': gone]' | awk '{print $1}' | xargs git branch -D
```

---

## 9. Merge code cÆ¡ báº£n

```bash
git branch   # danh sÃ¡ch cÃ¡c nhÃ¡nh cá»¥c bá»™:
git branch -r  # kiá»ƒm tra nhÃ¡nh remote

# Náº¿u nhÃ¡nh chá»‰ tá»“n táº¡i trÃªn remote, báº¡n cáº§n táº£i vá»:
git fetch origin cuong/update2024-legal2008txt 
git checkout -b cuong/update2024-legal2008txt origin/cuong/update2024-legal2008txt

# checkout sang main
git checkout main
git merge cuong/update2024_legal2008txt
```

KÃ©o main vá» nhÃ¡nh hiá»‡n táº¡i:

```bash
git pull origin main
git pull origin main --no-rebase   # Gá»™p commit, giá»¯ nguyÃªn lá»‹ch sá»­
git pull origin main --rebase      # Lá»‹ch sá»­ sáº¡ch hÆ¡n
git pull origin main --ff-only     # Chá»‰ update náº¿u khÃ´ng cÃ³ commit má»›i
```

Merge nhiá»u nhÃ¡nh:

```bash
git checkout main
git merge cuong/update2024-legal2008txt
git merge DNCuong/UI

git checkout dev/DoanCuong
git pull origin main
```

---

## 10. Git Pull & Merge chuáº©n

```bash
git commit -m "Save work"
git pull origin main
# resolve conflict
git add .
git commit -m "Resolve merge conflicts"
git push
```

---

## 11. Bug & Báº£o máº­t

- **Bug `GH013: Repository rule violations found for refs/heads/main`**  
    â†’ GitHub phÃ¡t hiá»‡n vi pháº¡m (vÃ­ dá»¥ Ä‘áº©y secret).
    

**CÃ¡ch xá»­ lÃ½:**

- DÃ¹ng `.gitignore`
    
- XÃ³a commit nháº¡y cáº£m:
    

```bash
git reset --soft HEAD~1
```

- Hoáº·c dÃ¹ng `git filter-repo`:
    

```bash
pip install git-filter-repo
git filter-repo --path utils/langfuse_demo/integration_langgraph.ipynb --invert-paths --force
git push --force destination1 refs/heads/manual-refactor-agent-registry:refs/heads/manual-refactor-agent-registry
```

- Hoáº·c dÃ¹ng `git filter-branch`:
    

```bash
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch ver1_20250625/robot-ai-lesson/config.yml" \
  --prune-empty --tag-name-filter cat -- --all
```

|TiÃªu chÃ­|`git filter-repo`|`git filter-branch`|
|---|---|---|
|**Tá»‘c Ä‘á»™**|âš¡ Nhanh hÆ¡n 10-50x|ğŸ¢ Ráº¥t cháº­m|
|**An toÃ n**|âœ… Tá»± Ä‘á»™ng backup|âš ï¸ Dá»… gÃ¢y lá»—i|
|**Built-in**|âŒ Pháº£i cÃ i|âœ… CÃ³ sáºµn|
|**CÃº phÃ¡p**|ğŸ˜Š ÄÆ¡n giáº£n|ğŸ˜µ Phá»©c táº¡p|
|**Khuyáº¿n nghá»‹**|âœ… Recommended|â›” Deprecated|

---

## 12. Gá»™p nhiá»u repo / merge nÃ¢ng cao

### 12.1 Gá»™p repo nguá»“n vÃ o repo Ä‘Ã­ch

```bash
git clone https://github.com/username/source-repo.git
cd source-repo
git remote add destination https://github.com/username/destination-repo.git
git push --force destination origin/deploy:main
```

### 12.2 Há»£p nháº¥t lá»‹ch sá»­ khÃ´ng liÃªn quan

```bash
git pull --no-rebase destination main --allow-unrelated-histories
git merge other-branch --allow-unrelated-histories
git add .
git commit -m "Resolved merge conflicts"
```

### 12.3 Copy nhÃ¡nh giá»¯a 2 repo (GitKraken)

```bash


# Gá»˜P 1 REPO VÃ€O 1 NHÃNH Cá»¦A 1 REPO --- Gá»˜P 1 REPO VÃ€O 1 NHÃNH Cá»¦A 1 REPO SAU ÄÃ“ Há»¢P NHáº¤T, MERGER VÃ€O MAIN

# Báº®T Äáº¦U Tá»ª REPO NGUá»’N. 

git clone https://github.com/username/source-repo.git
cd source-repo

git remote add destination https://github.com/Hngdcmnh/content-the-coach
git remote add destination https://github.com/DoanNgocCuong/robot-lesson-workflow_stepUpEducation_22092025

## push the current branch origin/deploy to the destination branch main of the destination repo
# git push destination origin/deploy:main
## ghi Ä‘Ã¨
# git push --force destination origin/deploy:main

# or full ref name 
git push --force destination refs/heads/main:refs/heads/destination_branch
git push --force destination refs/heads/manual-refactor-agent-registry:refs/heads/manual-refactor-agent-registry

# Ä‘áº¿n Ä‘Ã¢y lÃ  Ä‘áº©y sang repo Ä‘Ã­ch rá»“i 

# --- SANG REPO ÄÃCH / LÃ€ LÃŠN GITHUB MERGER---
git clone https://github.com/username/destination-repo.git
# **KÃ©o (pull) nhá»¯ng thay Ä‘á»•i tá»« repo Ä‘Ã­ch vÃ o repo hiá»‡n táº¡i**: 
# Äiá»u nÃ y Ä‘áº£m báº£o ráº±ng báº¡n cÃ³ táº¥t cáº£ cÃ¡c thay Ä‘á»•i má»›i nháº¥t tá»« repo Ä‘Ã­ch trÆ°á»›c khi Ä‘áº©y lÃªn, trÃ¡nh ghi Ä‘Ã¨.
git pull --no-rebase destination main --allow-unrelated-histories

git checkout main

# Lá»—i "fatal: refusing to merge unrelated histories" xáº£y ra khi báº¡n cá»‘ gáº¯ng há»£p nháº¥t hai nhÃ¡nh mÃ  khÃ´ng cÃ³ lá»‹ch sá»­ chung. Äiá»u nÃ y thÆ°á»ng xáº£y ra khi hai nhÃ¡nh Ä‘Æ°á»£c khá»Ÿi táº¡o tá»« cÃ¡c kho lÆ°u trá»¯ khÃ¡c nhau hoáº·c khi má»™t nhÃ¡nh Ä‘Æ°á»£c táº¡o má»›i mÃ  khÃ´ng cÃ³ báº¥t ká»³ commit nÃ o tá»« nhÃ¡nh gá»‘c. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng tÃ¹y chá»n `--allow-unrelated-histories` Ä‘á»ƒ cho phÃ©p há»£p nháº¥t cÃ¡c lá»‹ch sá»­ khÃ´ng liÃªn quan:
git merge aPartGenspark_wantMerge --allow-unrelated-histories
# Xá»­ lÃ½ xung Ä‘á»™t náº¿u cÃ³, sau Ä‘Ã³ thÃªm vÃ  commit
git add .
git commit -m "Resolved merge conflicts"



```

LÃºc nÃ y check remote báº¡n sáº½ tháº¥y: 

```bash
PS D:\GIT\robot-lesson-workflow> git remote -v
destination     https://github.com/DoanNgocCuong/robot-lesson-workflow_stepUpEducation_22092025 (fetch)
destination     https://github.com/DoanNgocCuong/robot-lesson-workflow_stepUpEducation_22092025 (push)
destination1    https://github.com/DoanNgocCuong/Refactored_CFO_Multi-AI-Agent_LangchainLanggraph_T10_2025 (fetch)
destination1    https://github.com/DoanNgocCuong/Refactored_CFO_Multi-AI-Agent_LangchainLanggraph_T10_2025 (push)
upstream        https://github.com/IsProjectX/robot-lesson-workflow.git (fetch)
upstream        https://github.com/IsProjectX/robot-lesson-workflow.git (push)
PS D:\GIT\robot-lesson-workflow> 
```
---

## 13. Ghi chÃº hÃ¬nh áº£nh

![[Pasted image 20241106122454.png]]

---

Báº¡n cÃ³ muá»‘n mÃ¬nh lÃ m thÃªm **má»¥c lá»¥c (TOC) dáº¡ng link nháº£y** á»Ÿ Ä‘áº§u file Ä‘á»ƒ click tá»›i tá»«ng pháº§n khÃ´ng?

